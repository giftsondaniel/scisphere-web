(function(u,b){"function"===typeof define&&define.amd?define(["jquery"],b):"object"===typeof exports?module.exports=b(require("jquery")):u.bootbox=b(u.jQuery)})(this,function init(b,c){function a(d,a,e){d.stopPropagation();d.preventDefault();b.isFunction(e)&&!1===e(d)||a.modal("hide")}function d(b){var d,a=0;for(d in b)a++;return a}function e(d,a){var e=0;b.each(d,function(b,d){a(b,d,e++)})}function f(a){var c,f;if("object"!==typeof a)throw Error("Please supply an object of options");if(!a.message)throw Error("Please specify a message");
a=b.extend({},p,a);a.buttons||(a.buttons={});a.backdrop=a.backdrop?"static":!1;c=a.buttons;f=d(c);e(c,function(a,d,e){b.isFunction(d)&&(d=c[a]={callback:d});if("object"!==b.type(d))throw Error("button with key "+a+" must be an object");d.label||(d.label=a);d.className||(d.className=2>=f&&e===f-1?"btn-primary":"btn-default")});return a}function h(a,d){var b=a.length,e={};if(1>b||2<b)throw Error("Invalid argument length");2===b||"string"===typeof a[0]?(e[d[0]]=a[0],e[d[1]]=a[1]):e=a[0];return e}function g(a,
d,e){return b.extend(!0,{},a,h(d,e))}function k(a,d,b,e){a={className:"bootbox-"+a,buttons:l.apply(null,d)};return m(g(a,e,b),d)}function l(){for(var a={},d=0,b=arguments.length;d<b;d++){var e=arguments[d],c=e.toLowerCase(),e=e.toUpperCase(),f=q[p.locale];a[c]={label:f?f[e]:q.en[e]}}return a}function m(a,d){var b={};e(d,function(a,d){b[d]=!0});e(a.buttons,function(a){if(b[a]===c)throw Error("button key "+a+" is not allowed (options are "+d.join("\n")+")");});return a}var n={text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",
textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",
time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"},p={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0,container:"body"},r={alert:function(){var a;a=k("alert",["ok"],["message","callback"],arguments);if(a.callback&&
!b.isFunction(a.callback))throw Error("alert requires callback property to be a function when provided");a.buttons.ok.callback=a.onEscape=function(){return b.isFunction(a.callback)?a.callback():!0};return r.dialog(a)},confirm:function(){var a;a=k("confirm",["cancel","confirm"],["message","callback"],arguments);a.buttons.cancel.callback=a.onEscape=function(){return a.callback(!1)};a.buttons.confirm.callback=function(){return a.callback(!0)};if(!b.isFunction(a.callback))throw Error("confirm requires a callback");
return r.dialog(a)},prompt:function(){var a,d,f,h,k,p;h=b("<form class='bootbox-form'></form>");d={className:"bootbox-prompt",buttons:l("cancel","confirm"),value:"",inputType:"text"};a=m(g(d,arguments,["title","callback"]),["cancel","confirm"]);d=a.show===c?!0:a.show;p=document.createElement("input");p.setAttribute("type",a.inputType);["date","time","number"][a.inputType]&&(a.inputType=p.type);a.message=h;a.buttons.cancel.callback=a.onEscape=function(){return a.callback(null)};a.buttons.confirm.callback=
function(){var d;switch(a.inputType){case "text":case "textarea":case "email":case "select":case "date":case "time":case "number":case "password":d=k.val();break;case "checkbox":var f=k.find("input:checked");d=[];e(f,function(a,e){d.push(b(e).val())})}return a.callback(d)};a.show=!1;if(!a.title)throw Error("prompt requires a title");if(!b.isFunction(a.callback))throw Error("prompt requires a callback");if(!n[a.inputType])throw Error("invalid prompt type");k=b(n[a.inputType]);switch(a.inputType){case "text":case "textarea":case "email":case "date":case "time":case "number":case "password":k.val(a.value);
break;case "select":var q={};p=a.inputOptions||[];if(!p.length)throw Error("prompt with select requires options");e(p,function(a,d){var e=k;if(d.value===c||d.text===c)throw Error("given options in wrong format");d.group&&(q[d.group]||(q[d.group]=b("<optgroup/>").attr("label",d.group)),e=q[d.group]);e.append("<option value='"+d.value+"'>"+d.text+"</option>")});e(q,function(a,d){k.append(d)});k.val(a.value);break;case "checkbox":var K=b.isArray(a.value)?a.value:[a.value];p=a.inputOptions||[];if(!p.length)throw Error("prompt with checkbox requires options");
if(!p[0].value||!p[0].text)throw Error("given options in wrong format");k=b("<div/>");e(p,function(d,f){var c=b(n[a.inputType]);c.find("input").attr("value",f.value);c.find("label").append(f.text);e(K,function(a,d){d===f.value&&c.find("input").prop("checked",!0)});k.append(c)})}a.placeholder&&k.attr("placeholder",a.placeholder);a.pattern&&k.attr("pattern",a.pattern);h.append(k);h.on("submit",function(a){a.preventDefault();f.find(".btn-primary").click()});f=r.dialog(a);f.off("shown.bs.modal");f.on("shown.bs.modal",
function(){k.focus()});!0===d&&f.modal("show");return f},dialog:function(d){d=f(d);var c=b("<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>"),h=c.find(".modal-body"),g="",k={onEscape:d.onEscape};e(d.buttons,function(a,d){g+="<button data-bb-handler='"+a+"' type='button' class='btn "+d.className+"'>"+d.label+"</button>";k[a]=d.callback});h.find(".bootbox-body").html(d.message);
!0===d.animate&&c.addClass("fade");d.className&&c.addClass(d.className);d.title&&h.before("<div class='modal-header'><h4 class='modal-title'></h4></div>");if(d.closeButton){var l=b("<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>");d.title?c.find(".modal-header").prepend(l):l.css("margin-top","-10px").prependTo(h)}d.title&&c.find(".modal-title").html(d.title);g.length&&(h.after("<div class='modal-footer'></div>"),c.find(".modal-footer").html(g));
c.on("hidden.bs.modal",function(a){a.target===this&&c.remove()});c.on("shown.bs.modal",function(){c.find(".btn-primary:first").focus()});c.on("escape.close.bb",function(d){k.onEscape&&a(d,c,k.onEscape)});c.on("click",".modal-footer button",function(d){var e=b(this).data("bb-handler");a(d,c,k[e])});c.on("click",".bootbox-close-button",function(d){a(d,c,k.onEscape)});c.on("keyup",function(a){27===a.which&&c.trigger("escape.close.bb")});b(d.container).append(c);c.modal({backdrop:d.backdrop,keyboard:!1,
show:!1});d.show&&c.modal("show");return c},setDefaults:function(){var a={};2===arguments.length?a[arguments[0]]=arguments[1]:a=arguments[0];b.extend(p,a)},hideAll:function(){b(".bootbox").modal("hide")}},q={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",
CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"\u00d7\u0090\u00d7\u2122\u00d7\u00a9\u00d7\u2022\u00d7\u00a8",CANCEL:"\u00d7\u2018\u00d7\u2122\u00d7\u02dc\u00d7\u2022\u00d7\u0153",CONFIRM:"\u00d7\u0090\u00d7\u2122\u00d7\u00a9\u00d7\u2022\u00d7\u00a8"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},lt:{OK:"Gerai",CANCEL:"At\u00c5\u00a1aukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprin\u00c4\u0081t"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",
CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd\u00c5\u00ba"},ru:{OK:"OK",CANCEL:"\u00d0\u017e\u00d1\u201a\u00d0\u00bc\u00d0\u00b5\u00d0\u00bd\u00d0\u00b0",CONFIRM:"\u00d0\u0178\u00d1\u20ac\u00d0\u00b8\u00d0\u00bc\u00d0\u00b5\u00d0\u00bd\u00d0\u00b8\u00d1\u201a\u00d1\u0152"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},tr:{OK:"Tamam",CANCEL:"\u00c4\u00b0ptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"\u00e5\u008f\u2013\u00e6\u00b6\u02c6",CONFIRM:"\u00e7\u00a1\u00ae\u00e8\u00ae\u00a4"},zh_TW:{OK:"OK",
CANCEL:"\u00e5\u008f\u2013\u00e6\u00b6\u02c6",CONFIRM:"\u00e7\u00a2\u00ba\u00e8\u00aa\u008d"}};r.init=function(a){return init(a||b)};return r});(function(){function u(){var b={FRAMERATE:30,MAX_VIRTUAL_PIXELS:3E4,init:function(c){var a=0;b.UniqueId=function(){a++;return"canvg"+a};b.Definitions={};b.Styles={};b.Animations=[];b.Images=[];b.ctx=c;b.ViewPort=new function(){this.viewPorts=[];this.Clear=function(){this.viewPorts=[]};this.SetCurrent=function(a,b){this.viewPorts.push({width:a,height:b})};this.RemoveCurrent=function(){this.viewPorts.pop()};this.Current=function(){return this.viewPorts[this.viewPorts.length-1]};this.width=function(){return this.Current().width};
this.height=function(){return this.Current().height};this.ComputeSize=function(a){return null!=a&&"number"==typeof a?a:"x"==a?this.width():"y"==a?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}}};b.init();b.ImagesLoaded=function(){for(var c=0;c<b.Images.length;c++)if(!b.Images[c].loaded)return!1;return!0};b.trim=function(b){return b.replace(/^\s+|\s+$/g,"")};b.compressSpaces=function(b){return b.replace(/[\s\r\t\n]+/gm," ")};b.ajax=function(b){var a;a=window.XMLHttpRequest?
new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");a.open("GET",b,!1);a.send(null);return a.responseText};b.parseXml=function(b){if(window.DOMParser)return(new DOMParser).parseFromString(b,"text/xml");b=b.replace(/<!DOCTYPE svg[^>]*>/,"");var a=new ActiveXObject("Microsoft.XMLDOM");a.async="false";a.loadXML(b);return a};b.Property=function(b,a){this.name=b;this.value=a};b.Property.prototype.getValue=function(){return this.value};b.Property.prototype.hasValue=function(){return null!=this.value&&
""!==this.value};b.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var b=parseFloat(this.value);(this.value+"").match(/%$/)&&(b/=100);return b};b.Property.prototype.valueOrDefault=function(b){return this.hasValue()?this.value:b};b.Property.prototype.numValueOrDefault=function(b){return this.hasValue()?this.numValue():b};b.Property.prototype.addOpacity=function(c){var a=this.value;if(null!=c&&""!=c&&"string"==typeof this.value){var d=new RGBColor(this.value);d.ok&&(a="rgba("+d.r+
", "+d.g+", "+d.b+", "+c+")")}return new b.Property(this.name,a)};b.Property.prototype.getDefinition=function(){var c=this.value.match(/#([^\)'"]+)/);c&&(c=c[1]);c||(c=this.value);return b.Definitions[c]};b.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")};b.Property.prototype.getFillStyleDefinition=function(c,a){var d=this.getDefinition();if(null!=d&&d.createGradient)return d.createGradient(b.ctx,c,a);if(null!=d&&d.createPattern){if(d.getHrefAttribute().hasValue()){var e=
d.attribute("patternTransform"),d=d.getHrefAttribute().getDefinition();e.hasValue()&&(d.attribute("patternTransform",!0).value=e.value)}return d.createPattern(b.ctx,c)}return null};b.Property.prototype.getDPI=function(b){return 96};b.Property.prototype.getEM=function(c){var a=12,d=new b.Property("fontSize",b.Font.Parse(b.ctx.font).fontSize);d.hasValue()&&(a=d.toPixels(c));return a};b.Property.prototype.getUnits=function(){return(this.value+"").replace(/[0-9\.\-]/g,"")};b.Property.prototype.toPixels=
function(c,a){if(!this.hasValue())return 0;var d=this.value+"";if(d.match(/em$/))return this.numValue()*this.getEM(c);if(d.match(/ex$/))return this.numValue()*this.getEM(c)/2;if(d.match(/px$/))return this.numValue();if(d.match(/pt$/))return this.numValue()*this.getDPI(c)*(1/72);if(d.match(/pc$/))return 15*this.numValue();if(d.match(/cm$/))return this.numValue()*this.getDPI(c)/2.54;if(d.match(/mm$/))return this.numValue()*this.getDPI(c)/25.4;if(d.match(/in$/))return this.numValue()*this.getDPI(c);
if(d.match(/%$/))return this.numValue()*b.ViewPort.ComputeSize(c);d=this.numValue();return a&&1>d?d*b.ViewPort.ComputeSize(c):d};b.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var b=this.value+"";if(b.match(/s$/))return 1E3*this.numValue();b.match(/ms$/);return this.numValue()};b.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var b=this.value+"";return b.match(/deg$/)?this.numValue()*(Math.PI/180):b.match(/grad$/)?this.numValue()*(Math.PI/200):b.match(/rad$/)?
this.numValue():this.numValue()*(Math.PI/180)};b.Font=new function(){this.Styles="normal|italic|oblique|inherit";this.Variants="normal|small-caps|inherit";this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";this.CreateFont=function(a,d,e,f,c,g){g=null!=g?this.Parse(g):this.CreateFont("","","","","",b.ctx.font);return{fontFamily:c||g.fontFamily,fontSize:f||g.fontSize,fontStyle:a||g.fontStyle,fontWeight:e||g.fontWeight,fontVariant:d||g.fontVariant,toString:function(){return[this.fontStyle,
this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var c=this;this.Parse=function(a){var d={};a=b.trim(b.compressSpaces(a||"")).split(" ");for(var e=!1,f=!1,h=!1,g=!1,k="",l=0;l<a.length;l++)f||-1==c.Styles.indexOf(a[l])?g||-1==c.Variants.indexOf(a[l])?h||-1==c.Weights.indexOf(a[l])?e?"inherit"!=a[l]&&(k+=a[l]):("inherit"!=a[l]&&(d.fontSize=a[l].split("/")[0]),f=g=h=e=!0):("inherit"!=a[l]&&(d.fontWeight=a[l]),f=g=h=!0):("inherit"!=a[l]&&(d.fontVariant=a[l]),f=g=!0):("inherit"!=
a[l]&&(d.fontStyle=a[l]),f=!0);""!=k&&(d.fontFamily=k);return d}};b.ToNumberArray=function(c){c=b.trim(b.compressSpaces((c||"").replace(/,/g," "))).split(" ");for(var a=0;a<c.length;a++)c[a]=parseFloat(c[a]);return c};b.Point=function(b,a){this.x=b;this.y=a};b.Point.prototype.angleTo=function(b){return Math.atan2(b.y-this.y,b.x-this.x)};b.Point.prototype.applyTransform=function(b){var a=this.x*b[1]+this.y*b[3]+b[5];this.x=this.x*b[0]+this.y*b[2]+b[4];this.y=a};b.CreatePoint=function(c){c=b.ToNumberArray(c);
return new b.Point(c[0],c[1])};b.CreatePath=function(c){c=b.ToNumberArray(c);for(var a=[],d=0;d<c.length;d+=2)a.push(new b.Point(c[d],c[d+1]));return a};b.BoundingBox=function(b,a,d,e){this.y2=this.x2=this.y1=this.x1=Number.NaN;this.x=function(){return this.x1};this.y=function(){return this.y1};this.width=function(){return this.x2-this.x1};this.height=function(){return this.y2-this.y1};this.addPoint=function(a,d){if(null!=a){if(isNaN(this.x1)||isNaN(this.x2))this.x2=this.x1=a;a<this.x1&&(this.x1=
a);a>this.x2&&(this.x2=a)}if(null!=d){if(isNaN(this.y1)||isNaN(this.y2))this.y2=this.y1=d;d<this.y1&&(this.y1=d);d>this.y2&&(this.y2=d)}};this.addX=function(a){this.addPoint(a,null)};this.addY=function(a){this.addPoint(null,a)};this.addBoundingBox=function(a){this.addPoint(a.x1,a.y1);this.addPoint(a.x2,a.y2)};this.addQuadraticCurve=function(a,d,b,e,c,m){b=a+2/3*(b-a);e=d+2/3*(e-d);this.addBezierCurve(a,d,b,b+1/3*(c-a),e,e+1/3*(m-d),c,m)};this.addBezierCurve=function(a,d,b,e,c,m,n,p){var r=[a,d],q=
[b,e],t=[c,m],C=[n,p];this.addPoint(r[0],r[1]);this.addPoint(C[0],C[1]);for(i=0;1>=i;i++)a=function(a){return Math.pow(1-a,3)*r[i]+3*Math.pow(1-a,2)*a*q[i]+3*(1-a)*Math.pow(a,2)*t[i]+Math.pow(a,3)*C[i]},d=6*r[i]-12*q[i]+6*t[i],b=-3*r[i]+9*q[i]-9*t[i]+3*C[i],e=3*q[i]-3*r[i],0==b?0!=d&&(d=-e/d,0<d&&1>d&&(0==i&&this.addX(a(d)),1==i&&this.addY(a(d)))):(e=Math.pow(d,2)-4*e*b,0>e||(c=(-d+Math.sqrt(e))/(2*b),0<c&&1>c&&(0==i&&this.addX(a(c)),1==i&&this.addY(a(c))),d=(-d-Math.sqrt(e))/(2*b),0<d&&1>d&&(0==
i&&this.addX(a(d)),1==i&&this.addY(a(d)))))};this.isPointInBox=function(a,d){return this.x1<=a&&a<=this.x2&&this.y1<=d&&d<=this.y2};this.addPoint(b,a);this.addPoint(d,e)};b.Transform=function(c){var a=this;this.Type={};this.Type.translate=function(a){this.p=b.CreatePoint(a);this.apply=function(a){a.translate(this.p.x||0,this.p.y||0)};this.unapply=function(a){a.translate(-1*this.p.x||0,-1*this.p.y||0)};this.applyToPoint=function(a){a.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}};this.Type.rotate=
function(a){a=b.ToNumberArray(a);this.angle=new b.Property("angle",a[0]);this.cx=a[1]||0;this.cy=a[2]||0;this.apply=function(a){a.translate(this.cx,this.cy);a.rotate(this.angle.toRadians());a.translate(-this.cx,-this.cy)};this.unapply=function(a){a.translate(this.cx,this.cy);a.rotate(-1*this.angle.toRadians());a.translate(-this.cx,-this.cy)};this.applyToPoint=function(a){var d=this.angle.toRadians();a.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]);a.applyTransform([Math.cos(d),Math.sin(d),-Math.sin(d),
Math.cos(d),0,0]);a.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}};this.Type.scale=function(a){this.p=b.CreatePoint(a);this.apply=function(a){a.scale(this.p.x||1,this.p.y||this.p.x||1)};this.unapply=function(a){a.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)};this.applyToPoint=function(a){a.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}};this.Type.matrix=function(a){this.m=b.ToNumberArray(a);this.apply=function(a){a.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])};
this.applyToPoint=function(a){a.applyTransform(this.m)}};this.Type.SkewBase=function(d){this.base=a.Type.matrix;this.base(d);this.angle=new b.Property("angle",d)};this.Type.SkewBase.prototype=new this.Type.matrix;this.Type.skewX=function(d){this.base=a.Type.SkewBase;this.base(d);this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]};this.Type.skewX.prototype=new this.Type.SkewBase;this.Type.skewY=function(d){this.base=a.Type.SkewBase;this.base(d);this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]};
this.Type.skewY.prototype=new this.Type.SkewBase;this.transforms=[];this.apply=function(a){for(var d=0;d<this.transforms.length;d++)this.transforms[d].apply(a)};this.unapply=function(a){for(var d=this.transforms.length-1;0<=d;d--)this.transforms[d].unapply(a)};this.applyToPoint=function(a){for(var d=0;d<this.transforms.length;d++)this.transforms[d].applyToPoint(a)};c=b.trim(b.compressSpaces(c)).replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/);for(var d=0;d<c.length;d++){var e=b.trim(c[d].split("(")[0]),
f=c[d].split("(")[1].replace(")",""),f=new this.Type[e](f);f.type=e;this.transforms.push(f)}};b.AspectRatio=function(c,a,d,e,f,h,g,k,l,m){a=b.compressSpaces(a);a=a.replace(/^defer\s/,"");var n=a.split(" ")[0]||"xMidYMid";a=a.split(" ")[1]||"meet";var p=d/e,r=f/h,q=Math.min(p,r),t=Math.max(p,r);"meet"==a&&(e*=q,h*=q);"slice"==a&&(e*=t,h*=t);l=new b.Property("refX",l);m=new b.Property("refY",m);l.hasValue()&&m.hasValue()?c.translate(-q*l.toPixels("x"),-q*m.toPixels("y")):(n.match(/^xMid/)&&("meet"==
a&&q==r||"slice"==a&&t==r)&&c.translate(d/2-e/2,0),n.match(/YMid$/)&&("meet"==a&&q==p||"slice"==a&&t==p)&&c.translate(0,f/2-h/2),n.match(/^xMax/)&&("meet"==a&&q==r||"slice"==a&&t==r)&&c.translate(d-e,0),n.match(/YMax$/)&&("meet"==a&&q==p||"slice"==a&&t==p)&&c.translate(0,f-h));"none"==n?c.scale(p,r):"meet"==a?c.scale(q,q):"slice"==a&&c.scale(t,t);c.translate(null==g?0:-g,null==k?0:-k)};b.Element={};b.EmptyProperty=new b.Property("EMPTY","");b.Element.ElementBase=function(c){this.attributes={};this.styles=
{};this.children=[];this.attribute=function(a,d){var e=this.attributes[a];if(null!=e)return e;1==d&&(e=new b.Property(a,""),this.attributes[a]=e);return e||b.EmptyProperty};this.getHrefAttribute=function(){for(var a in this.attributes)if(a.match(/:href$/))return this.attributes[a];return b.EmptyProperty};this.style=function(a,d){var e=this.styles[a];if(null!=e)return e;var c=this.attribute(a);if(null!=c&&c.hasValue())return this.styles[a]=c;c=this.parent;if(null!=c&&(c=c.style(a),null!=c&&c.hasValue()))return c;
1==d&&(e=new b.Property(a,""),this.styles[a]=e);return e||b.EmptyProperty};this.render=function(a){if("none"!=this.style("display").value&&"hidden"!=this.attribute("visibility").value){a.save();if(this.attribute("mask").hasValue()){var d=this.attribute("mask").getDefinition();null!=d&&d.apply(a,this)}else this.style("filter").hasValue()?(d=this.style("filter").getDefinition(),null!=d&&d.apply(a,this)):(this.setContext(a),this.renderChildren(a),this.clearContext(a));a.restore()}};this.setContext=function(a){};
this.clearContext=function(a){};this.renderChildren=function(a){for(var d=0;d<this.children.length;d++)this.children[d].render(a)};this.addChild=function(a,d){var e=a;d&&(e=b.CreateElement(a));e.parent=this;this.children.push(e)};if(null!=c&&1==c.nodeType){for(var a=0;a<c.childNodes.length;a++){var d=c.childNodes[a];1==d.nodeType&&this.addChild(d,!0);this.captureTextNodes&&3==d.nodeType&&""!=b.trim(b.compressSpaces(d.nodeValue||d.text||""))&&this.addChild(new b.Element.tspan(d),!1)}for(a=0;a<c.attributes.length;a++)d=
c.attributes[a],this.attributes[d.nodeName]=new b.Property(d.nodeName,d.nodeValue);d=b.Styles[c.nodeName];if(null!=d)for(var e in d)this.styles[e]=d[e];if(this.attribute("class").hasValue())for(var a=b.compressSpaces(this.attribute("class").value).split(" "),f=0;f<a.length;f++){d=b.Styles["."+a[f]];if(null!=d)for(e in d)this.styles[e]=d[e];d=b.Styles[c.nodeName+"."+a[f]];if(null!=d)for(e in d)this.styles[e]=d[e]}if(this.attribute("id").hasValue()&&(d=b.Styles["#"+this.attribute("id").value],null!=
d))for(e in d)this.styles[e]=d[e];if(this.attribute("style").hasValue())for(d=this.attribute("style").value.split(";"),a=0;a<d.length;a++)""!=b.trim(d[a])&&(c=d[a].split(":"),e=b.trim(c[0]),c=b.trim(c[1]),this.styles[e]=new b.Property(e,c));this.attribute("id").hasValue()&&null==b.Definitions[this.attribute("id").value]&&(b.Definitions[this.attribute("id").value]=this)}};b.Element.RenderedElementBase=function(c){this.base=b.Element.ElementBase;this.base(c);this.setContext=function(a){if(this.style("fill").isUrlDefinition()){var d=
this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));null!=d&&(a.fillStyle=d)}else this.style("fill").hasValue()&&(d=this.style("fill"),"currentColor"==d.value&&(d.value=this.style("color").value),a.fillStyle="none"==d.value?"rgba(0,0,0,0)":d.value);this.style("fill-opacity").hasValue()&&(d=new b.Property("fill",a.fillStyle),d=d.addOpacity(this.style("fill-opacity").value),a.fillStyle=d.value);this.style("stroke").isUrlDefinition()?(d=this.style("stroke").getFillStyleDefinition(this,
this.style("stroke-opacity")),null!=d&&(a.strokeStyle=d)):this.style("stroke").hasValue()&&(d=this.style("stroke"),"currentColor"==d.value&&(d.value=this.style("color").value),a.strokeStyle="none"==d.value?"rgba(0,0,0,0)":d.value);this.style("stroke-opacity").hasValue()&&(d=new b.Property("stroke",a.strokeStyle),d=d.addOpacity(this.style("stroke-opacity").value),a.strokeStyle=d.value);this.style("stroke-width").hasValue()&&(d=this.style("stroke-width").toPixels(),a.lineWidth=0==d?.001:d);this.style("stroke-linecap").hasValue()&&
(a.lineCap=this.style("stroke-linecap").value);this.style("stroke-linejoin").hasValue()&&(a.lineJoin=this.style("stroke-linejoin").value);this.style("stroke-miterlimit").hasValue()&&(a.miterLimit=this.style("stroke-miterlimit").value);this.style("stroke-dasharray").hasValue()&&(d=b.ToNumberArray(this.style("stroke-dasharray").value),"undefined"!=typeof a.setLineDash?a.setLineDash(d):"undefined"!=typeof a.webkitLineDash?a.webkitLineDash=d:"undefined"!=typeof a.mozDash&&(a.mozDash=d),d=this.style("stroke-dashoffset").numValueOrDefault(1),
"undefined"!=typeof a.lineDashOffset?a.lineDashOffset=d:"undefined"!=typeof a.webkitLineDashOffset?a.webkitLineDashOffset=d:"undefined"!=typeof a.mozDashOffset&&(a.mozDashOffset=d));"undefined"!=typeof a.font&&(a.font=b.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString());this.attribute("transform").hasValue()&&(new b.Transform(this.attribute("transform").value)).apply(a);
this.style("clip-path").hasValue()&&(d=this.style("clip-path").getDefinition(),null!=d&&d.apply(a));this.style("opacity").hasValue()&&(a.globalAlpha=this.style("opacity").numValue())}};b.Element.RenderedElementBase.prototype=new b.Element.ElementBase;b.Element.PathElementBase=function(c){this.base=b.Element.RenderedElementBase;this.base(c);this.path=function(a){null!=a&&a.beginPath();return new b.BoundingBox};this.renderChildren=function(a){this.path(a);b.Mouse.checkPath(this,a);""!=a.fillStyle&&
(this.attribute("fill-rule").hasValue()?a.fill(this.attribute("fill-rule").value):a.fill());""!=a.strokeStyle&&a.stroke();var d=this.getMarkers();if(null!=d){if(this.style("marker-start").isUrlDefinition()){var e=this.style("marker-start").getDefinition();e.render(a,d[0][0],d[0][1])}if(this.style("marker-mid").isUrlDefinition())for(var e=this.style("marker-mid").getDefinition(),c=1;c<d.length-1;c++)e.render(a,d[c][0],d[c][1]);this.style("marker-end").isUrlDefinition()&&(e=this.style("marker-end").getDefinition(),
e.render(a,d[d.length-1][0],d[d.length-1][1]))}};this.getBoundingBox=function(){return this.path()};this.getMarkers=function(){return null}};b.Element.PathElementBase.prototype=new b.Element.RenderedElementBase;b.Element.svg=function(c){this.base=b.Element.RenderedElementBase;this.base(c);this.baseClearContext=this.clearContext;this.clearContext=function(a){this.baseClearContext(a);b.ViewPort.RemoveCurrent()};this.baseSetContext=this.setContext;this.setContext=function(a){a.strokeStyle="rgba(0,0,0,0)";
a.lineCap="butt";a.lineJoin="miter";a.miterLimit=4;this.baseSetContext(a);this.attribute("x").hasValue()||(this.attribute("x",!0).value=0);this.attribute("y").hasValue()||(this.attribute("y",!0).value=0);a.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var d=b.ViewPort.width(),e=b.ViewPort.height();this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%");this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%");if("undefined"==
typeof this.root){var d=this.attribute("width").toPixels("x"),e=this.attribute("height").toPixels("y"),c=0,h=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(c=-this.attribute("refX").toPixels("x"),h=-this.attribute("refY").toPixels("y"));a.beginPath();a.moveTo(c,h);a.lineTo(d,h);a.lineTo(d,e);a.lineTo(c,e);a.closePath();a.clip()}b.ViewPort.SetCurrent(d,e);if(this.attribute("viewBox").hasValue()){var c=b.ToNumberArray(this.attribute("viewBox").value),h=c[0],g=c[1],d=c[2],e=
c[3];b.AspectRatio(a,this.attribute("preserveAspectRatio").value,b.ViewPort.width(),d,b.ViewPort.height(),e,h,g,this.attribute("refX").value,this.attribute("refY").value);b.ViewPort.RemoveCurrent();b.ViewPort.SetCurrent(c[2],c[3])}}};b.Element.svg.prototype=new b.Element.RenderedElementBase;b.Element.rect=function(c){this.base=b.Element.PathElementBase;this.base(c);this.path=function(a){var d=this.attribute("x").toPixels("x"),e=this.attribute("y").toPixels("y"),c=this.attribute("width").toPixels("x"),
h=this.attribute("height").toPixels("y"),g=this.attribute("rx").toPixels("x"),k=this.attribute("ry").toPixels("y");this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(k=g);this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(g=k);g=Math.min(g,c/2);k=Math.min(k,h/2);null!=a&&(a.beginPath(),a.moveTo(d+g,e),a.lineTo(d+c-g,e),a.quadraticCurveTo(d+c,e,d+c,e+k),a.lineTo(d+c,e+h-k),a.quadraticCurveTo(d+c,e+h,d+c-g,e+h),a.lineTo(d+g,e+h),a.quadraticCurveTo(d,e+h,d,e+h-k),a.lineTo(d,
e+k),a.quadraticCurveTo(d,e,d+g,e),a.closePath());return new b.BoundingBox(d,e,d+c,e+h)}};b.Element.rect.prototype=new b.Element.PathElementBase;b.Element.circle=function(c){this.base=b.Element.PathElementBase;this.base(c);this.path=function(a){var d=this.attribute("cx").toPixels("x"),e=this.attribute("cy").toPixels("y"),c=this.attribute("r").toPixels();null!=a&&(a.beginPath(),a.arc(d,e,c,0,2*Math.PI,!0),a.closePath());return new b.BoundingBox(d-c,e-c,d+c,e+c)}};b.Element.circle.prototype=new b.Element.PathElementBase;
b.Element.ellipse=function(c){this.base=b.Element.PathElementBase;this.base(c);this.path=function(a){var d=(Math.sqrt(2)-1)/3*4,e=this.attribute("rx").toPixels("x"),c=this.attribute("ry").toPixels("y"),h=this.attribute("cx").toPixels("x"),g=this.attribute("cy").toPixels("y");null!=a&&(a.beginPath(),a.moveTo(h,g-c),a.bezierCurveTo(h+d*e,g-c,h+e,g-d*c,h+e,g),a.bezierCurveTo(h+e,g+d*c,h+d*e,g+c,h,g+c),a.bezierCurveTo(h-d*e,g+c,h-e,g+d*c,h-e,g),a.bezierCurveTo(h-e,g-d*c,h-d*e,g-c,h,g-c),a.closePath());
return new b.BoundingBox(h-e,g-c,h+e,g+c)}};b.Element.ellipse.prototype=new b.Element.PathElementBase;b.Element.line=function(c){this.base=b.Element.PathElementBase;this.base(c);this.getPoints=function(){return[new b.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new b.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]};this.path=function(a){var d=this.getPoints();null!=a&&(a.beginPath(),a.moveTo(d[0].x,d[0].y),a.lineTo(d[1].x,d[1].y));return new b.BoundingBox(d[0].x,
d[0].y,d[1].x,d[1].y)};this.getMarkers=function(){var a=this.getPoints(),d=a[0].angleTo(a[1]);return[[a[0],d],[a[1],d]]}};b.Element.line.prototype=new b.Element.PathElementBase;b.Element.polyline=function(c){this.base=b.Element.PathElementBase;this.base(c);this.points=b.CreatePath(this.attribute("points").value);this.path=function(a){var d=new b.BoundingBox(this.points[0].x,this.points[0].y);null!=a&&(a.beginPath(),a.moveTo(this.points[0].x,this.points[0].y));for(var e=1;e<this.points.length;e++)d.addPoint(this.points[e].x,
this.points[e].y),null!=a&&a.lineTo(this.points[e].x,this.points[e].y);return d};this.getMarkers=function(){for(var a=[],d=0;d<this.points.length-1;d++)a.push([this.points[d],this.points[d].angleTo(this.points[d+1])]);a.push([this.points[this.points.length-1],a[a.length-1][1]]);return a}};b.Element.polyline.prototype=new b.Element.PathElementBase;b.Element.polygon=function(c){this.base=b.Element.polyline;this.base(c);this.basePath=this.path;this.path=function(a){var d=this.basePath(a);null!=a&&(a.lineTo(this.points[0].x,
this.points[0].y),a.closePath());return d}};b.Element.polygon.prototype=new b.Element.polyline;b.Element.path=function(c){this.base=b.Element.PathElementBase;this.base(c);c=this.attribute("d").value;c=c.replace(/,/gm," ");c=c.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2");c=c.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2");c=c.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");c=c.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2");c=c.replace(/([0-9])([+\-])/gm,
"$1 $2");c=c.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");c=c.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 ");c=b.compressSpaces(c);c=b.trim(c);this.PathParser=new function(a){this.tokens=a.split(" ");this.reset=function(){this.i=-1;this.previousCommand=this.command="";this.start=new b.Point(0,0);this.control=new b.Point(0,0);this.current=new b.Point(0,0);this.points=[];this.angles=[]};this.isEnd=function(){return this.i>=this.tokens.length-1};this.isCommandOrEnd=function(){return this.isEnd()?
!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)};this.isRelativeCommand=function(){switch(this.command){case "m":case "l":case "h":case "v":case "c":case "s":case "q":case "t":case "a":case "z":return!0}return!1};this.getToken=function(){this.i++;return this.tokens[this.i]};this.getScalar=function(){return parseFloat(this.getToken())};this.nextCommand=function(){this.previousCommand=this.command;this.command=this.getToken()};this.getPoint=function(){var a=new b.Point(this.getScalar(),this.getScalar());
return this.makeAbsolute(a)};this.getAsControlPoint=function(){var a=this.getPoint();return this.control=a};this.getAsCurrentPoint=function(){var a=this.getPoint();return this.current=a};this.getReflectedControlPoint=function(){return"c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase()?this.current:new b.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)};this.makeAbsolute=
function(a){this.isRelativeCommand()&&(a.x+=this.current.x,a.y+=this.current.y);return a};this.addMarker=function(a,b,c){null!=c&&0<this.angles.length&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(c));this.addMarkerAngle(a,null==b?null:b.angleTo(a))};this.addMarkerAngle=function(a,b){this.points.push(a);this.angles.push(b)};this.getMarkerPoints=function(){return this.points};this.getMarkerAngles=function(){for(var a=0;a<this.angles.length;a++)if(null==
this.angles[a])for(var b=a+1;b<this.angles.length;b++)if(null!=this.angles[b]){this.angles[a]=this.angles[b];break}return this.angles}}(c);this.path=function(a){var d=this.PathParser;d.reset();var c=new b.BoundingBox;for(null!=a&&a.beginPath();!d.isEnd();)switch(d.nextCommand(),d.command){case "M":case "m":var f=d.getAsCurrentPoint();d.addMarker(f);c.addPoint(f.x,f.y);null!=a&&a.moveTo(f.x,f.y);for(d.start=d.current;!d.isCommandOrEnd();)f=d.getAsCurrentPoint(),d.addMarker(f,d.start),c.addPoint(f.x,
f.y),null!=a&&a.lineTo(f.x,f.y);break;case "L":case "l":for(;!d.isCommandOrEnd();){var h=d.current,f=d.getAsCurrentPoint();d.addMarker(f,h);c.addPoint(f.x,f.y);null!=a&&a.lineTo(f.x,f.y)}break;case "H":case "h":for(;!d.isCommandOrEnd();)f=new b.Point((d.isRelativeCommand()?d.current.x:0)+d.getScalar(),d.current.y),d.addMarker(f,d.current),d.current=f,c.addPoint(d.current.x,d.current.y),null!=a&&a.lineTo(d.current.x,d.current.y);break;case "V":case "v":for(;!d.isCommandOrEnd();)f=new b.Point(d.current.x,
(d.isRelativeCommand()?d.current.y:0)+d.getScalar()),d.addMarker(f,d.current),d.current=f,c.addPoint(d.current.x,d.current.y),null!=a&&a.lineTo(d.current.x,d.current.y);break;case "C":case "c":for(;!d.isCommandOrEnd();){var g=d.current,h=d.getPoint(),k=d.getAsControlPoint(),f=d.getAsCurrentPoint();d.addMarker(f,k,h);c.addBezierCurve(g.x,g.y,h.x,h.y,k.x,k.y,f.x,f.y);null!=a&&a.bezierCurveTo(h.x,h.y,k.x,k.y,f.x,f.y)}break;case "S":case "s":for(;!d.isCommandOrEnd();)g=d.current,h=d.getReflectedControlPoint(),
k=d.getAsControlPoint(),f=d.getAsCurrentPoint(),d.addMarker(f,k,h),c.addBezierCurve(g.x,g.y,h.x,h.y,k.x,k.y,f.x,f.y),null!=a&&a.bezierCurveTo(h.x,h.y,k.x,k.y,f.x,f.y);break;case "Q":case "q":for(;!d.isCommandOrEnd();)g=d.current,k=d.getAsControlPoint(),f=d.getAsCurrentPoint(),d.addMarker(f,k,k),c.addQuadraticCurve(g.x,g.y,k.x,k.y,f.x,f.y),null!=a&&a.quadraticCurveTo(k.x,k.y,f.x,f.y);break;case "T":case "t":for(;!d.isCommandOrEnd();)g=d.current,k=d.getReflectedControlPoint(),d.control=k,f=d.getAsCurrentPoint(),
d.addMarker(f,k,k),c.addQuadraticCurve(g.x,g.y,k.x,k.y,f.x,f.y),null!=a&&a.quadraticCurveTo(k.x,k.y,f.x,f.y);break;case "A":case "a":for(;!d.isCommandOrEnd();){var g=d.current,l=d.getScalar(),m=d.getScalar(),h=d.getScalar()*(Math.PI/180),n=d.getScalar(),k=d.getScalar(),f=d.getAsCurrentPoint(),p=new b.Point(Math.cos(h)*(g.x-f.x)/2+Math.sin(h)*(g.y-f.y)/2,-Math.sin(h)*(g.x-f.x)/2+Math.cos(h)*(g.y-f.y)/2),r=Math.pow(p.x,2)/Math.pow(l,2)+Math.pow(p.y,2)/Math.pow(m,2);1<r&&(l*=Math.sqrt(r),m*=Math.sqrt(r));
n=(n==k?-1:1)*Math.sqrt((Math.pow(l,2)*Math.pow(m,2)-Math.pow(l,2)*Math.pow(p.y,2)-Math.pow(m,2)*Math.pow(p.x,2))/(Math.pow(l,2)*Math.pow(p.y,2)+Math.pow(m,2)*Math.pow(p.x,2)));isNaN(n)&&(n=0);var q=new b.Point(n*l*p.y/m,n*-m*p.x/l),g=new b.Point((g.x+f.x)/2+Math.cos(h)*q.x-Math.sin(h)*q.y,(g.y+f.y)/2+Math.sin(h)*q.x+Math.cos(h)*q.y),t=function(a,d){return(a[0]*d[0]+a[1]*d[1])/(Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))*Math.sqrt(Math.pow(d[0],2)+Math.pow(d[1],2)))},C=function(a,d){return(a[0]*
d[1]<a[1]*d[0]?-1:1)*Math.acos(t(a,d))},n=C([1,0],[(p.x-q.x)/l,(p.y-q.y)/m]),r=[(p.x-q.x)/l,(p.y-q.y)/m],q=[(-p.x-q.x)/l,(-p.y-q.y)/m],p=C(r,q);-1>=t(r,q)&&(p=Math.PI);1<=t(r,q)&&(p=0);r=1-k?1:-1;q=n+p/2*r;C=new b.Point(g.x+l*Math.cos(q),g.y+m*Math.sin(q));d.addMarkerAngle(C,q-r*Math.PI/2);d.addMarkerAngle(f,q-r*Math.PI);c.addPoint(f.x,f.y);null!=a&&(t=l>m?l:m,f=l>m?1:l/m,l=l>m?m/l:1,a.translate(g.x,g.y),a.rotate(h),a.scale(f,l),a.arc(0,0,t,n,n+p,1-k),a.scale(1/f,1/l),a.rotate(-h),a.translate(-g.x,
-g.y))}break;case "Z":case "z":null!=a&&a.closePath(),d.current=d.start}return c};this.getMarkers=function(){for(var a=this.PathParser.getMarkerPoints(),d=this.PathParser.getMarkerAngles(),b=[],c=0;c<a.length;c++)b.push([a[c],d[c]]);return b}};b.Element.path.prototype=new b.Element.PathElementBase;b.Element.pattern=function(c){this.base=b.Element.ElementBase;this.base(c);this.createPattern=function(a,d){var c=this.attribute("width").toPixels("x",!0),f=this.attribute("height").toPixels("y",!0),h=new b.Element.svg;
h.attributes.viewBox=new b.Property("viewBox",this.attribute("viewBox").value);h.attributes.width=new b.Property("width",c+"px");h.attributes.height=new b.Property("height",f+"px");h.attributes.transform=new b.Property("transform",this.attribute("patternTransform").value);h.children=this.children;var g=document.createElement("canvas");g.width=c;g.height=f;c=g.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&c.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",
!0));for(f=-1;1>=f;f++)for(var k=-1;1>=k;k++)c.save(),c.translate(f*g.width,k*g.height),h.render(c),c.restore();return a.createPattern(g,"repeat")}};b.Element.pattern.prototype=new b.Element.ElementBase;b.Element.marker=function(c){this.base=b.Element.ElementBase;this.base(c);this.baseRender=this.render;this.render=function(a,d,c){a.translate(d.x,d.y);"auto"==this.attribute("orient").valueOrDefault("auto")&&a.rotate(c);"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&a.scale(a.lineWidth,
a.lineWidth);a.save();var f=new b.Element.svg;f.attributes.viewBox=new b.Property("viewBox",this.attribute("viewBox").value);f.attributes.refX=new b.Property("refX",this.attribute("refX").value);f.attributes.refY=new b.Property("refY",this.attribute("refY").value);f.attributes.width=new b.Property("width",this.attribute("markerWidth").value);f.attributes.height=new b.Property("height",this.attribute("markerHeight").value);f.attributes.fill=new b.Property("fill",this.attribute("fill").valueOrDefault("black"));
f.attributes.stroke=new b.Property("stroke",this.attribute("stroke").valueOrDefault("none"));f.children=this.children;f.render(a);a.restore();"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&a.scale(1/a.lineWidth,1/a.lineWidth);"auto"==this.attribute("orient").valueOrDefault("auto")&&a.rotate(-c);a.translate(-d.x,-d.y)}};b.Element.marker.prototype=new b.Element.ElementBase;b.Element.defs=function(c){this.base=b.Element.ElementBase;this.base(c);this.render=function(a){}};
b.Element.defs.prototype=new b.Element.ElementBase;b.Element.GradientBase=function(c){this.base=b.Element.ElementBase;this.base(c);this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox");this.stops=[];for(c=0;c<this.children.length;c++){var a=this.children[c];"stop"==a.type&&this.stops.push(a)}this.getGradient=function(){};this.createGradient=function(a,c,f){var h=this;this.getHrefAttribute().hasValue()&&(h=this.getHrefAttribute().getDefinition());var g=function(a){return f.hasValue()?
(new b.Property("color",a)).addOpacity(f.value).value:a};a=this.getGradient(a,c);if(null==a)return g(h.stops[h.stops.length-1].color);for(c=0;c<h.stops.length;c++)a.addColorStop(h.stops[c].offset,g(h.stops[c].color));return this.attribute("gradientTransform").hasValue()?(h=b.ViewPort.viewPorts[0],g=new b.Element.rect,g.attributes.x=new b.Property("x",-b.MAX_VIRTUAL_PIXELS/3),g.attributes.y=new b.Property("y",-b.MAX_VIRTUAL_PIXELS/3),g.attributes.width=new b.Property("width",b.MAX_VIRTUAL_PIXELS),
g.attributes.height=new b.Property("height",b.MAX_VIRTUAL_PIXELS),c=new b.Element.g,c.attributes.transform=new b.Property("transform",this.attribute("gradientTransform").value),c.children=[g],g=new b.Element.svg,g.attributes.x=new b.Property("x",0),g.attributes.y=new b.Property("y",0),g.attributes.width=new b.Property("width",h.width),g.attributes.height=new b.Property("height",h.height),g.children=[c],c=document.createElement("canvas"),c.width=h.width,c.height=h.height,h=c.getContext("2d"),h.fillStyle=
a,g.render(h),h.createPattern(c,"no-repeat")):a}};b.Element.GradientBase.prototype=new b.Element.ElementBase;b.Element.linearGradient=function(c){this.base=b.Element.GradientBase;this.base(c);this.getGradient=function(a,d){var b=d.getBoundingBox();this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=
0);var c="objectBoundingBox"==this.gradientUnits?b.x()+b.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),h="objectBoundingBox"==this.gradientUnits?b.y()+b.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),g="objectBoundingBox"==this.gradientUnits?b.x()+b.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),b="objectBoundingBox"==this.gradientUnits?b.y()+b.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");
return c==g&&h==b?null:a.createLinearGradient(c,h,g,b)}};b.Element.linearGradient.prototype=new b.Element.GradientBase;b.Element.radialGradient=function(c){this.base=b.Element.GradientBase;this.base(c);this.getGradient=function(a,d){var b=d.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%");this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%");this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var c="objectBoundingBox"==this.gradientUnits?
b.x()+b.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),h="objectBoundingBox"==this.gradientUnits?b.y()+b.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),g=c,k=h;this.attribute("fx").hasValue()&&(g="objectBoundingBox"==this.gradientUnits?b.x()+b.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x"));this.attribute("fy").hasValue()&&(k="objectBoundingBox"==this.gradientUnits?b.y()+b.height()*this.attribute("fy").numValue():
this.attribute("fy").toPixels("y"));b="objectBoundingBox"==this.gradientUnits?(b.width()+b.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return a.createRadialGradient(g,k,0,c,h,b)}};b.Element.radialGradient.prototype=new b.Element.GradientBase;b.Element.stop=function(c){this.base=b.Element.ElementBase;this.base(c);this.offset=this.attribute("offset").numValue();0>this.offset&&(this.offset=0);1<this.offset&&(this.offset=1);c=this.style("stop-color");this.style("stop-opacity").hasValue()&&
(c=c.addOpacity(this.style("stop-opacity").value));this.color=c.value};b.Element.stop.prototype=new b.Element.ElementBase;b.Element.AnimateBase=function(c){this.base=b.Element.ElementBase;this.base(c);b.Animations.push(this);this.duration=0;this.begin=this.attribute("begin").toMilliseconds();this.maxDuration=this.begin+this.attribute("dur").toMilliseconds();this.getProperty=function(){var a=this.attribute("attributeType").value,d=this.attribute("attributeName").value;return"CSS"==a?this.parent.style(d,
!0):this.parent.attribute(d,!0)};this.initialValue=null;this.initialUnits="";this.removed=!1;this.calcValue=function(){return""};this.update=function(a){null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits());if(this.duration>this.maxDuration)if("indefinite"==this.attribute("repeatCount").value||"indefinite"==this.attribute("repeatDur").value)this.duration=0;else{if("remove"!=this.attribute("fill").valueOrDefault("remove")||this.removed)return!1;
this.removed=!0;this.getProperty().value=this.initialValue;return!0}this.duration+=a;a=!1;this.begin<this.duration&&(a=this.calcValue(),this.attribute("type").hasValue()&&(a=this.attribute("type").value+"("+a+")"),this.getProperty().value=a,a=!0);return a};this.from=this.attribute("from");this.to=this.attribute("to");this.values=this.attribute("values");this.values.hasValue()&&(this.values.value=this.values.value.split(";"));this.progress=function(){var a={progress:(this.duration-this.begin)/(this.maxDuration-
this.begin)};if(this.values.hasValue()){var d=a.progress*(this.values.value.length-1),c=Math.floor(d),f=Math.ceil(d);a.from=new b.Property("from",parseFloat(this.values.value[c]));a.to=new b.Property("to",parseFloat(this.values.value[f]));a.progress=(d-c)/(f-c)}else a.from=this.from,a.to=this.to;return a}};b.Element.AnimateBase.prototype=new b.Element.ElementBase;b.Element.animate=function(c){this.base=b.Element.AnimateBase;this.base(c);this.calcValue=function(){var a=this.progress();return a.from.numValue()+
(a.to.numValue()-a.from.numValue())*a.progress+this.initialUnits}};b.Element.animate.prototype=new b.Element.AnimateBase;b.Element.animateColor=function(c){this.base=b.Element.AnimateBase;this.base(c);this.calcValue=function(){var a=this.progress(),d=new RGBColor(a.from.value),b=new RGBColor(a.to.value);if(d.ok&&b.ok){var c=d.g+(b.g-d.g)*a.progress,h=d.b+(b.b-d.b)*a.progress;return"rgb("+parseInt(d.r+(b.r-d.r)*a.progress,10)+","+parseInt(c,10)+","+parseInt(h,10)+")"}return this.attribute("from").value}};
b.Element.animateColor.prototype=new b.Element.AnimateBase;b.Element.animateTransform=function(c){this.base=b.Element.AnimateBase;this.base(c);this.calcValue=function(){for(var a=this.progress(),d=b.ToNumberArray(a.from.value),c=b.ToNumberArray(a.to.value),f="",h=0;h<d.length;h++)f+=d[h]+(c[h]-d[h])*a.progress+" ";return f}};b.Element.animateTransform.prototype=new b.Element.animate;b.Element.font=function(c){this.base=b.Element.ElementBase;this.base(c);this.horizAdvX=this.attribute("horiz-adv-x").numValue();
this.isArabic=this.isRTL=!1;this.missingGlyph=this.fontFace=null;this.glyphs=[];for(c=0;c<this.children.length;c++){var a=this.children[c];"font-face"==a.type?(this.fontFace=a,a.style("font-family").hasValue()&&(b.Definitions[a.style("font-family").value]=this)):"missing-glyph"==a.type?this.missingGlyph=a:"glyph"==a.type&&(""!=a.arabicForm?(this.isArabic=this.isRTL=!0,"undefined"==typeof this.glyphs[a.unicode]&&(this.glyphs[a.unicode]=[]),this.glyphs[a.unicode][a.arabicForm]=a):this.glyphs[a.unicode]=
a)}};b.Element.font.prototype=new b.Element.ElementBase;b.Element.fontface=function(c){this.base=b.Element.ElementBase;this.base(c);this.ascent=this.attribute("ascent").value;this.descent=this.attribute("descent").value;this.unitsPerEm=this.attribute("units-per-em").numValue()};b.Element.fontface.prototype=new b.Element.ElementBase;b.Element.missingglyph=function(c){this.base=b.Element.path;this.base(c);this.horizAdvX=0};b.Element.missingglyph.prototype=new b.Element.path;b.Element.glyph=function(c){this.base=
b.Element.path;this.base(c);this.horizAdvX=this.attribute("horiz-adv-x").numValue();this.unicode=this.attribute("unicode").value;this.arabicForm=this.attribute("arabic-form").value};b.Element.glyph.prototype=new b.Element.path;b.Element.text=function(c){this.captureTextNodes=!0;this.base=b.Element.RenderedElementBase;this.base(c);this.baseSetContext=this.setContext;this.setContext=function(a){this.baseSetContext(a);this.style("dominant-baseline").hasValue()&&(a.textBaseline=this.style("dominant-baseline").value);
this.style("alignment-baseline").hasValue()&&(a.textBaseline=this.style("alignment-baseline").value)};this.getBoundingBox=function(){return new b.BoundingBox(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"),0,0)};this.renderChildren=function(a){this.x=this.attribute("x").toPixels("x");this.y=this.attribute("y").toPixels("y");this.x+=this.getAnchorDelta(a,this,0);for(var d=0;d<this.children.length;d++)this.renderChild(a,this,d)};this.getAnchorDelta=function(a,d,b){var c=this.style("text-anchor").valueOrDefault("start");
if("start"!=c){for(var h=0,g=b;g<d.children.length;g++){var k=d.children[g];if(g>b&&k.attribute("x").hasValue())break;h+=k.measureTextRecursive(a)}return-1*("end"==c?h:h/2)}return 0};this.renderChild=function(a,d,b){var c=d.children[b];c.attribute("x").hasValue()?c.x=c.attribute("x").toPixels("x")+this.getAnchorDelta(a,d,b):(this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),c.attribute("dx").hasValue()&&(this.x+=c.attribute("dx").toPixels("x")),c.x=this.x);this.x=c.x+c.measureText(a);
c.attribute("y").hasValue()?c.y=c.attribute("y").toPixels("y"):(this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),c.attribute("dy").hasValue()&&(this.y+=c.attribute("dy").toPixels("y")),c.y=this.y);this.y=c.y;c.render(a);for(b=0;b<c.children.length;b++)this.renderChild(a,c,b)}};b.Element.text.prototype=new b.Element.RenderedElementBase;b.Element.TextElementBase=function(c){this.base=b.Element.RenderedElementBase;this.base(c);this.getGlyph=function(a,b,c){var f=b[c],h=null;
if(a.isArabic){var g="isolated";(0==c||" "==b[c-1])&&c<b.length-2&&" "!=b[c+1]&&(g="terminal");0<c&&" "!=b[c-1]&&c<b.length-2&&" "!=b[c+1]&&(g="medial");0<c&&" "!=b[c-1]&&(c==b.length-1||" "==b[c+1])&&(g="initial");"undefined"!=typeof a.glyphs[f]&&(h=a.glyphs[f][g],null==h&&"glyph"==a.glyphs[f].type&&(h=a.glyphs[f]))}else h=a.glyphs[f];null==h&&(h=a.missingGlyph);return h};this.renderChildren=function(a){var d=this.parent.style("font-family").getDefinition();if(null!=d){var c=this.parent.style("font-size").numValueOrDefault(b.Font.Parse(b.ctx.font).fontSize),
f=this.parent.style("font-style").valueOrDefault(b.Font.Parse(b.ctx.font).fontStyle),h=this.getText();d.isRTL&&(h=h.split("").reverse().join(""));for(var g=b.ToNumberArray(this.parent.attribute("dx").value),k=0;k<h.length;k++){var l=this.getGlyph(d,h,k),m=c/d.fontFace.unitsPerEm;a.translate(this.x,this.y);a.scale(m,-m);var n=a.lineWidth;a.lineWidth=a.lineWidth*d.fontFace.unitsPerEm/c;"italic"==f&&a.transform(1,0,.4,1,0,0);l.render(a);"italic"==f&&a.transform(1,0,-.4,1,0,0);a.lineWidth=n;a.scale(1/
m,-1/m);a.translate(-this.x,-this.y);this.x+=c*(l.horizAdvX||d.horizAdvX)/d.fontFace.unitsPerEm;"undefined"==typeof g[k]||isNaN(g[k])||(this.x+=g[k])}}else""!=a.fillStyle&&a.fillText(b.compressSpaces(this.getText()),this.x,this.y),""!=a.strokeStyle&&a.strokeText(b.compressSpaces(this.getText()),this.x,this.y)};this.getText=function(){};this.measureTextRecursive=function(a){for(var b=this.measureText(a),c=0;c<this.children.length;c++)b+=this.children[c].measureTextRecursive(a);return b};this.measureText=
function(a){var d=this.parent.style("font-family").getDefinition();if(null!=d){a=this.parent.style("font-size").numValueOrDefault(b.Font.Parse(b.ctx.font).fontSize);var c=0,f=this.getText();d.isRTL&&(f=f.split("").reverse().join(""));for(var h=b.ToNumberArray(this.parent.attribute("dx").value),g=0;g<f.length;g++){var k=this.getGlyph(d,f,g),c=c+(k.horizAdvX||d.horizAdvX)*a/d.fontFace.unitsPerEm;"undefined"==typeof h[g]||isNaN(h[g])||(c+=h[g])}return c}d=b.compressSpaces(this.getText());if(!a.measureText)return 10*
d.length;a.save();this.setContext(a);d=a.measureText(d).width;a.restore();return d}};b.Element.TextElementBase.prototype=new b.Element.RenderedElementBase;b.Element.tspan=function(c){this.captureTextNodes=!0;this.base=b.Element.TextElementBase;this.base(c);this.text=c.nodeValue||c.text||"";this.getText=function(){return this.text}};b.Element.tspan.prototype=new b.Element.TextElementBase;b.Element.tref=function(c){this.base=b.Element.TextElementBase;this.base(c);this.getText=function(){var a=this.getHrefAttribute().getDefinition();
if(null!=a)return a.children[0].getText()}};b.Element.tref.prototype=new b.Element.TextElementBase;b.Element.a=function(c){this.base=b.Element.TextElementBase;this.base(c);this.hasText=!0;for(var a=0;a<c.childNodes.length;a++)3!=c.childNodes[a].nodeType&&(this.hasText=!1);this.text=this.hasText?c.childNodes[0].nodeValue:"";this.getText=function(){return this.text};this.baseRenderChildren=this.renderChildren;this.renderChildren=function(a){if(this.hasText){this.baseRenderChildren(a);var c=new b.Property("fontSize",
b.Font.Parse(b.ctx.font).fontSize);b.Mouse.checkBoundingBox(this,new b.BoundingBox(this.x,this.y-c.toPixels("y"),this.x+this.measureText(a),this.y))}else c=new b.Element.g,c.children=this.children,c.parent=this,c.render(a)};this.onclick=function(){window.open(this.getHrefAttribute().value)};this.onmousemove=function(){b.ctx.canvas.style.cursor="pointer"}};b.Element.a.prototype=new b.Element.TextElementBase;b.Element.image=function(c){this.base=b.Element.RenderedElementBase;this.base(c);var a=this.getHrefAttribute().value,
d=a.match(/\.svg$/);b.Images.push(this);this.loaded=!1;if(d)this.img=b.ajax(a),this.loaded=!0;else{this.img=document.createElement("img");var e=this;this.img.onload=function(){e.loaded=!0};this.img.onerror=function(){"undefined"!=typeof console&&(console.log('ERROR: image "'+a+'" not found'),e.loaded=!0)};this.img.src=a}this.renderChildren=function(a){var c=this.attribute("x").toPixels("x"),e=this.attribute("y").toPixels("y"),k=this.attribute("width").toPixels("x"),l=this.attribute("height").toPixels("y");
0!=k&&0!=l&&(a.save(),d?a.drawSvg(this.img,c,e,k,l):(a.translate(c,e),b.AspectRatio(a,this.attribute("preserveAspectRatio").value,k,this.img.width,l,this.img.height,0,0),a.drawImage(this.img,0,0)),a.restore())};this.getBoundingBox=function(){var a=this.attribute("x").toPixels("x"),d=this.attribute("y").toPixels("y"),c=this.attribute("width").toPixels("x"),e=this.attribute("height").toPixels("y");return new b.BoundingBox(a,d,a+c,d+e)}};b.Element.image.prototype=new b.Element.RenderedElementBase;b.Element.g=
function(c){this.base=b.Element.RenderedElementBase;this.base(c);this.getBoundingBox=function(){for(var a=new b.BoundingBox,d=0;d<this.children.length;d++)a.addBoundingBox(this.children[d].getBoundingBox());return a}};b.Element.g.prototype=new b.Element.RenderedElementBase;b.Element.symbol=function(c){this.base=b.Element.RenderedElementBase;this.base(c);this.baseSetContext=this.setContext;this.setContext=function(a){this.baseSetContext(a);if(this.attribute("viewBox").hasValue()){var d=b.ToNumberArray(this.attribute("viewBox").value),
c=d[0],f=d[1];width=d[2];height=d[3];b.AspectRatio(a,this.attribute("preserveAspectRatio").value,this.attribute("width").toPixels("x"),width,this.attribute("height").toPixels("y"),height,c,f);b.ViewPort.SetCurrent(d[2],d[3])}}};b.Element.symbol.prototype=new b.Element.RenderedElementBase;b.Element.style=function(c){this.base=b.Element.ElementBase;this.base(c);for(var a="",d=0;d<c.childNodes.length;d++)a+=c.childNodes[d].nodeValue;a=a.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,
"");a=b.compressSpaces(a);c=a.split("}");for(d=0;d<c.length;d++)if(""!=b.trim(c[d]))for(var e=c[d].split("{"),a=e[0].split(","),e=e[1].split(";"),f=0;f<a.length;f++){var h=b.trim(a[f]);if(""!=h){for(var g={},k=0;k<e.length;k++){var l=e[k].indexOf(":"),m=e[k].substr(0,l),l=e[k].substr(l+1,e[k].length-l);null!=m&&null!=l&&(g[b.trim(m)]=new b.Property(b.trim(m),b.trim(l)))}b.Styles[h]=g;if("@font-face"==h)for(h=g["font-family"].value.replace(/"/g,""),g=g.src.value.split(","),k=0;k<g.length;k++)if(0<
g[k].indexOf('format("svg")'))for(m=g[k].indexOf("url"),l=g[k].indexOf(")",m),m=g[k].substr(m+5,l-m-6),m=b.parseXml(b.ajax(m)).getElementsByTagName("font"),l=0;l<m.length;l++){var n=b.CreateElement(m[l]);b.Definitions[h]=n}}}};b.Element.style.prototype=new b.Element.ElementBase;b.Element.use=function(c){this.base=b.Element.RenderedElementBase;this.base(c);this.baseSetContext=this.setContext;this.setContext=function(a){this.baseSetContext(a);this.attribute("x").hasValue()&&a.translate(this.attribute("x").toPixels("x"),
0);this.attribute("y").hasValue()&&a.translate(0,this.attribute("y").toPixels("y"))};this.getDefinition=function(){var a=this.getHrefAttribute().getDefinition();this.attribute("width").hasValue()&&(a.attribute("width",!0).value=this.attribute("width").value);this.attribute("height").hasValue()&&(a.attribute("height",!0).value=this.attribute("height").value);return a};this.path=function(a){var b=this.getDefinition();null!=b&&b.path(a)};this.getBoundingBox=function(){var a=this.getDefinition();if(null!=
a)return a.getBoundingBox()};this.renderChildren=function(a){var b=this.getDefinition();if(null!=b){var c=b.parent;b.parent=null;b.render(a);b.parent=c}}};b.Element.use.prototype=new b.Element.RenderedElementBase;b.Element.mask=function(c){this.base=b.Element.ElementBase;this.base(c);this.apply=function(a,d){var c=this.attribute("x").toPixels("x"),f=this.attribute("y").toPixels("y"),h=this.attribute("width").toPixels("x"),g=this.attribute("height").toPixels("y");if(0==h&&0==g){g=new b.BoundingBox;
for(c=0;c<this.children.length;c++)g.addBoundingBox(this.children[c].getBoundingBox());c=Math.floor(g.x1);f=Math.floor(g.y1);h=Math.floor(g.width());g=Math.floor(g.height())}var k=d.attribute("mask").value;d.attribute("mask").value="";var l=document.createElement("canvas");l.width=c+h;l.height=f+g;var m=l.getContext("2d");this.renderChildren(m);var n=document.createElement("canvas");n.width=c+h;n.height=f+g;var p=n.getContext("2d");d.render(p);p.globalCompositeOperation="destination-in";p.fillStyle=
m.createPattern(l,"no-repeat");p.fillRect(0,0,c+h,f+g);a.fillStyle=p.createPattern(n,"no-repeat");a.fillRect(0,0,c+h,f+g);d.attribute("mask").value=k};this.render=function(a){}};b.Element.mask.prototype=new b.Element.ElementBase;b.Element.clipPath=function(c){this.base=b.Element.ElementBase;this.base(c);this.apply=function(a){for(var d=0;d<this.children.length;d++){var c=this.children[d];if("undefined"!=typeof c.path){var f=null;c.attribute("transform").hasValue()&&(f=new b.Transform(c.attribute("transform").value),
f.apply(a));c.path(a);a.clip();f&&f.unapply(a)}}};this.render=function(a){}};b.Element.clipPath.prototype=new b.Element.ElementBase;b.Element.filter=function(c){this.base=b.Element.ElementBase;this.base(c);this.apply=function(a,b){var c=b.getBoundingBox(),f=Math.floor(c.x1),h=Math.floor(c.y1),g=Math.floor(c.width()),c=Math.floor(c.height()),k=b.style("filter").value;b.style("filter").value="";for(var l=0,m=0,n=0;n<this.children.length;n++)var p=this.children[n].extraFilterDistance||0,l=Math.max(l,
p),m=Math.max(m,p);p=document.createElement("canvas");p.width=g+2*l;p.height=c+2*m;var r=p.getContext("2d");r.translate(-f+l,-h+m);b.render(r);for(n=0;n<this.children.length;n++)this.children[n].apply(r,0,0,g+2*l,c+2*m);a.drawImage(p,0,0,g+2*l,c+2*m,f-l,h-m,g+2*l,c+2*m);b.style("filter",!0).value=k};this.render=function(a){}};b.Element.filter.prototype=new b.Element.ElementBase;b.Element.feMorphology=function(c){this.base=b.Element.ElementBase;this.base(c);this.apply=function(a,b,c,f,h){}};b.Element.feMorphology.prototype=
new b.Element.ElementBase;b.Element.feColorMatrix=function(c){this.base=b.Element.ElementBase;this.base(c);this.apply=function(a,b,c,f,h){var g=a.getImageData(0,0,f,h);for(c=0;c<h;c++)for(b=0;b<f;b++){var k=(g.data[c*f*4+4*b+0]+g.data[c*f*4+4*b+1]+g.data[c*f*4+4*b+2])/3;g.data[c*f*4+4*b+0]=k;g.data[c*f*4+4*b+1]=k;g.data[c*f*4+4*b+2]=k}a.clearRect(0,0,f,h);a.putImageData(g,0,0)}};b.Element.feColorMatrix.prototype=new b.Element.ElementBase;b.Element.feGaussianBlur=function(c){this.base=b.Element.ElementBase;
this.base(c);this.extraFilterDistance=this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue());this.apply=function(a,d,c,f,h){"undefined"==typeof stackBlurCanvasRGBA?"undefined"!=typeof console&&console.log("ERROR: StackBlur.js must be included for blur to work"):(a.canvas.id=b.UniqueId(),a.canvas.style.display="none",document.body.appendChild(a.canvas),stackBlurCanvasRGBA(a.canvas.id,d,c,f,h,this.blurRadius),document.body.removeChild(a.canvas))}};b.Element.feGaussianBlur.prototype=new b.Element.ElementBase;
b.Element.title=function(b){};b.Element.title.prototype=new b.Element.ElementBase;b.Element.desc=function(b){};b.Element.desc.prototype=new b.Element.ElementBase;b.Element.MISSING=function(b){"undefined"!=typeof console&&console.log("ERROR: Element '"+b.nodeName+"' not yet implemented.")};b.Element.MISSING.prototype=new b.Element.ElementBase;b.CreateElement=function(c){var a=c.nodeName.replace(/^[^:]+:/,""),a=a.replace(/\-/g,""),a="undefined"!=typeof b.Element[a]?new b.Element[a](c):new b.Element.MISSING(c);
a.type=c.nodeName;return a};b.load=function(c,a){b.loadXml(c,b.ajax(a))};b.loadXml=function(c,a){b.loadXmlDoc(c,b.parseXml(a))};b.loadXmlDoc=function(c,a){b.init(c);var d=function(a){for(var b=c.canvas;b;)a.x-=b.offsetLeft,a.y-=b.offsetTop,b=b.offsetParent;window.scrollX&&(a.x+=window.scrollX);window.scrollY&&(a.y+=window.scrollY);return a};1!=b.opts.ignoreMouse&&(c.canvas.onclick=function(a){a=d(new b.Point(null!=a?a.clientX:event.clientX,null!=a?a.clientY:event.clientY));b.Mouse.onclick(a.x,a.y)},
c.canvas.onmousemove=function(a){a=d(new b.Point(null!=a?a.clientX:event.clientX,null!=a?a.clientY:event.clientY));b.Mouse.onmousemove(a.x,a.y)});var e=b.CreateElement(a.documentElement),f=e.root=!0,h=function(){b.ViewPort.Clear();c.canvas.parentNode&&b.ViewPort.SetCurrent(c.canvas.parentNode.clientWidth,c.canvas.parentNode.clientHeight);1!=b.opts.ignoreDimensions&&(e.style("width").hasValue()&&(c.canvas.width=e.style("width").toPixels("x"),c.canvas.style.width=c.canvas.width+"px"),e.style("height").hasValue()&&
(c.canvas.height=e.style("height").toPixels("y"),c.canvas.style.height=c.canvas.height+"px"));var d=c.canvas.clientWidth||c.canvas.width,g=c.canvas.clientHeight||c.canvas.height;1==b.opts.ignoreDimensions&&e.style("width").hasValue()&&e.style("height").hasValue()&&(d=e.style("width").toPixels("x"),g=e.style("height").toPixels("y"));b.ViewPort.SetCurrent(d,g);null!=b.opts.offsetX&&(e.attribute("x",!0).value=b.opts.offsetX);null!=b.opts.offsetY&&(e.attribute("y",!0).value=b.opts.offsetY);if(null!=b.opts.scaleWidth&&
null!=b.opts.scaleHeight){var h=1,n=1,p=b.ToNumberArray(e.attribute("viewBox").value);e.attribute("width").hasValue()?h=e.attribute("width").toPixels("x")/b.opts.scaleWidth:isNaN(p[2])||(h=p[2]/b.opts.scaleWidth);e.attribute("height").hasValue()?n=e.attribute("height").toPixels("y")/b.opts.scaleHeight:isNaN(p[3])||(n=p[3]/b.opts.scaleHeight);e.attribute("width",!0).value=b.opts.scaleWidth;e.attribute("height",!0).value=b.opts.scaleHeight;e.attribute("viewBox",!0).value="0 0 "+d*h+" "+g*n;e.attribute("preserveAspectRatio",
!0).value="none"}1!=b.opts.ignoreClear&&c.clearRect(0,0,d,g);e.render(c);f&&(f=!1,"function"==typeof b.opts.renderCallback&&b.opts.renderCallback(a))},g=!0;b.ImagesLoaded()&&(g=!1,h());b.intervalID=setInterval(function(){var a=!1;g&&b.ImagesLoaded()&&(g=!1,a=!0);1!=b.opts.ignoreMouse&&(a|=b.Mouse.hasEvents());if(1!=b.opts.ignoreAnimation)for(var d=0;d<b.Animations.length;d++)a|=b.Animations[d].update(1E3/b.FRAMERATE);"function"==typeof b.opts.forceRedraw&&1==b.opts.forceRedraw()&&(a=!0);a&&(h(),b.Mouse.runEvents())},
1E3/b.FRAMERATE)};b.stop=function(){b.intervalID&&clearInterval(b.intervalID)};b.Mouse=new function(){this.events=[];this.hasEvents=function(){return 0!=this.events.length};this.onclick=function(b,a){this.events.push({type:"onclick",x:b,y:a,run:function(a){if(a.onclick)a.onclick()}})};this.onmousemove=function(b,a){this.events.push({type:"onmousemove",x:b,y:a,run:function(a){if(a.onmousemove)a.onmousemove()}})};this.eventElements=[];this.checkPath=function(b,a){for(var d=0;d<this.events.length;d++){var e=
this.events[d];a.isPointInPath&&a.isPointInPath(e.x,e.y)&&(this.eventElements[d]=b)}};this.checkBoundingBox=function(b,a){for(var d=0;d<this.events.length;d++){var e=this.events[d];a.isPointInBox(e.x,e.y)&&(this.eventElements[d]=b)}};this.runEvents=function(){b.ctx.canvas.style.cursor="";for(var c=0;c<this.events.length;c++)for(var a=this.events[c],d=this.eventElements[c];d;)a.run(d),d=d.parent;this.events=[];this.eventElements=[]}};return b}this.canvg=function(b,c,a){if(null==b&&null==c&&null==a){c=
document.getElementsByTagName("svg");for(var d=0;d<c.length;d++){b=c[d];a=document.createElement("canvas");a.width=b.clientWidth;a.height=b.clientHeight;b.parentNode.insertBefore(a,b);b.parentNode.removeChild(b);var e=document.createElement("div");e.appendChild(b);canvg(a,e.innerHTML)}}else{a=a||{};"string"==typeof b&&(b=document.getElementById(b));null!=b.svg&&b.svg.stop();d=u();if(1!=b.childNodes.length||"OBJECT"!=b.childNodes[0].nodeName)b.svg=d;d.opts=a;b=b.getContext("2d");"undefined"!=typeof c.documentElement?
d.loadXmlDoc(b,c):"<"==c.substr(0,1)?d.loadXml(b,c):d.load(b,c)}}})();"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(u,b,c,a,d){canvg(this.canvas,u,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:b,offsetY:c,scaleWidth:a,scaleHeight:d})});(function(u){function b(a){return a}function c(a,b){for(var d=0,c=b.length,g=Array(c);d<c;++d)g[d]=a[b[d]];return g}function a(a){function b(d,c,g,e){for(;g<e;){var f=g+e>>>1;c<a(d[f])?e=f:g=f+1}return g}b.right=b;b.left=function(b,d,c,g){for(;c<g;){var e=c+g>>>1;a(b[e])<d?c=e+1:g=e}return c};return b}function d(a){function b(a,c,g){g-=c;for(var e=(g>>>1)+1;0<--e;)d(a,e,g,c);return a}function d(b,c,g,e){for(var f=b[--e+c],h=a(f),l;(l=c<<1)<=g;){l<g&&a(b[e+l])>a(b[e+l+1])&&l++;if(h<=a(b[e+l]))break;
b[e+c]=b[e+l];c=l}b[e+c]=f}b.sort=function(a,b,c){c-=b;for(var g;0<--c;)g=a[b],a[b]=a[b+c],a[b+c]=g,d(a,1,c,b);return a};return b}function e(a){var b=d(a);return function(d,c,g,e){var f=Array(e=Math.min(g-c,e)),h,l;for(h=0;h<e;++h)f[h]=d[c++];b(f,0,e);if(c<g){h=a(f[0]);do a(l=d[c])>h&&(f[0]=l,h=a(b(f,0,e)[0]));while(++c<g)}return f}}function f(a){return function(b,d,c){for(var g=d+1;g<c;++g){for(var e=g,f=b[g],h=a(f);e>d&&a(b[e-1])>h;--e)b[e]=b[e-1];b[e]=f}return b}}function h(a){function b(a,g,e){return(e-
g<S?c:d)(a,g,e)}function d(c,g,e){var f=(e-g)/6|0,h=g+f,l=e-1-f,k=g+e-1>>1,m=k-f,p=k+f,n=c[h],f=a(n),r=c[m],q=a(r),F=c[k],w=a(F),z=c[p],t=a(z),A=c[l],H=a(A),v;f>q&&(v=n,n=r,r=v,v=f,f=q,q=v);t>H&&(v=z,z=A,A=v,v=t,t=H,H=v);f>w&&(v=n,n=F,F=v,v=f,f=w,w=v);q>w&&(v=r,r=F,F=v,v=q,q=w,w=v);f>t&&(v=n,n=z,z=v,t=f);w>t&&(v=F,F=z,z=v,v=w,w=t,t=v);q>H&&(v=r,r=A,A=v,v=q,q=H,H=v);q>w&&(v=r,r=F,F=v,q=w);t>H&&(v=z,z=A,A=v,t=H);f=r;c[h]=n;c[m]=c[g];c[k]=F;c[p]=c[e-1];c[l]=A;k=g+1;m=e-2;if(p=q<=t&&q>=t)for(n=k;n<=m;++n)if(F=
c[n],A=a(F),A<q)n!==k&&(c[n]=c[k],c[k]=F),++k;else{if(A>q)for(;;){var y=a(c[m]);if(y>q)m--;else{y<q?(c[n]=c[k],c[k++]=c[m]):c[n]=c[m];c[m--]=F;break}}}else for(n=k;n<=m;n++)if(F=c[n],A=a(F),A<q)n!==k&&(c[n]=c[k],c[k]=F),++k;else if(A>t)for(;;)if(y=a(c[m]),y>t){if(m--,m<n)break}else{y<q?(c[n]=c[k],c[k++]=c[m]):c[n]=c[m];c[m--]=F;break}c[g]=c[k-1];c[k-1]=f;c[e-1]=c[m+1];c[m+1]=z;b(c,g,k-1);b(c,m+2,e);if(p)return c;if(k<h&&m>l){for(var C;(C=a(c[k]))<=q&&C>=q;)++k;for(;(y=a(c[m]))<=t&&y>=t;)--m;for(n=
k;n<=m;n++)if(F=c[n],A=a(F),A<=q&&A>=q)n!==k&&(c[n]=c[k],c[k]=F),k++;else if(A<=t&&A>=t)for(;;)if(y=a(c[m]),y<=t&&y>=t){if(m--,m<n)break}else{y<q?(c[n]=c[k],c[k++]=c[m]):c[n]=c[m];c[m--]=F;break}}return b(c,k,m+1)}var c=f(a);return b}function g(a){return Array(a)}function k(a,b){return function(c){var d=c.length;return[a.left(c,b,0,d),a.right(c,b,0,d)]}}function l(a,b){var c=b[0],d=b[1];return function(b){var g=b.length;return[a.left(b,c,0,g),a.left(b,d,0,g)]}}function m(a){return[0,a.length]}function n(){return null}
function p(){return 0}function r(a){return a+1}function q(a){return a-1}function t(a){return function(b,c){return b+ +a(c)}}function C(a){return function(b,c){return b-a(c)}}function z(){function a(b){var c=w,d=b.length;d&&(f=f.concat(b),x=W(x,w+=d),u.forEach(function(a){a(b,c,d)}));return g}var g={add:a,remove:function(){for(var a=A(w,w),b=[],c=0,d=0;c<w;++c)x[c]?a[c]=d++:b.push(c);Q.forEach(function(a){a(0,[],b)});K.forEach(function(b){b(a)});for(var d=c=0,g;c<w;++c)if(g=x[c])c!==d&&(x[d]=g,f[d]=
f[c]),++d;for(f.length=d;w>d;)x[--w]=0},dimension:function(a){function g(b,d,f){L=b.map(a);b=ia;for(var e=A(f,f),h=-1;++h<f;)e[h]=h;P=b(e,0,f);L=c(L,P);b=Y(L);e=b[0];h=b[1];if(ba)for(b=0;b<f;++b)ba(L[b],b)||(x[P[b]+d]|=y);else{for(b=0;b<e;++b)x[P[b]+d]|=y;for(b=h;b<f;++b)x[P[b]+d]|=y}if(d){var e=G,h=B,l=0,k=0;G=Array(w);B=A(w,w);for(b=0;l<d&&k<f;++b)e[l]<L[k]?(G[b]=e[l],B[b]=h[l++]):(G[b]=L[k],B[b]=P[k++]+d);for(;l<d;++l,++b)G[b]=e[l],B[b]=h[l];for(;k<f;++k,++b)G[b]=L[k],B[b]=P[k]+d;b=Y(G);I=b[0];
M=b[1]}else G=L,B=P,I=e,M=h}function R(a,b,c){ca.forEach(function(a){a(L,P,b,c)});L=P=null}function U(a){for(var b=0,c=0,d;b<w;++b)x[d=B[b]]&&(b!==c&&(G[c]=G[b]),B[c]=a[d],++c);for(G.length=c;c<w;)B[c++]=0;a=Y(G);I=a[0];M=a[1]}function N(a){var b=a[0],c=a[1];if(ba)return ba=null,fa(function(a,d){return b<=d&&d<c}),I=b,M=c,v;var d,f,g=[],e=[];if(b<I)for(a=b,d=Math.min(I,c);a<d;++a)x[f=B[a]]^=y,g.push(f);else if(b>I)for(a=I,d=Math.min(b,M);a<d;++a)x[f=B[a]]^=y,e.push(f);if(c>M)for(a=Math.max(b,M),d=
c;a<d;++a)x[f=B[a]]^=y,g.push(f);else if(c<M)for(a=Math.max(I,c),d=M;a<d;++a)x[f=B[a]]^=y,e.push(f);I=b;M=c;Q.forEach(function(a){a(y,g,e)});return v}function J(a){return N((Y=k(E,a))(G))}function aa(a){return N((Y=l(E,a))(G))}function da(){return N((Y=m)(G))}function ea(a){Y=m;fa(ba=a);I=0;M=w;return v}function fa(a){var b,c,d,f=[],g=[];for(b=0;b<w;++b)!(x[c=B[b]]&y)^(d=a(G[b],b))&&(d?(x[c]&=V,f.push(c)):(x[c]|=y,g.push(c)));Q.forEach(function(a){a(y,f,g)})}function ga(a){function c(b,d,g,e){function p(){++D===
S&&(q=X(q,N<<=1),E=X(E,N),S=8===N?256:16===N?65536:4294967296)}var r=O,q=A(D,S),t=I,z=L,v=D,y=0,R=0,H,u,U,C,B,G;Z&&(t=z=n);O=Array(D);D=0;E=1<v?W(E,w):A(w,S);v&&(U=(u=r[0]).key);for(;R<e&&!((C=a(b[R]))>=C);)++R;for(;R<e;){if(u&&U<=C){if(B=u,G=U,q[y]=D,u=r[++y])U=u.key}else B={key:C,value:z()},G=C;for(O[D]=B;!(C>G);){E[H=d[R]+g]=D;x[H]&V||(B.value=t(B.value,f[H]));if(++R>=e)break;C=a(b[R])}p()}for(;y<v;)O[q[y]=D]=r[y++],p();if(D>y)for(y=0;y<g;++y)E[y]=q[E[y]];H=Q.indexOf(T);1<D?(T=h,J=k):(1===D?(T=
l,J=m):J=T=n,E=null);Q[H]=T}function g(){if(1<D){for(var a=D,b=O,c=A(a,a),d=0,f=0;d<w;++d)x[d]&&(c[E[f]=E[d]]=1,++f);O=[];for(d=D=0;d<a;++d)c[d]&&(c[d]=D++,O.push(b[d]));if(1<D)for(d=0;d<f;++d)E[d]=c[E[d]];else E=null;Q[Q.indexOf(T)]=1<D?(J=k,T=h):1===D?(J=m,T=l):J=T=n}else if(1===D){for(d=0;d<w;++d)if(x[d])return;O=[];D=0;Q[Q.indexOf(T)]=T=J=n}}function h(a,b,c){if(a!==y&&!Z){var d,g,e,l;d=0;for(e=b.length;d<e;++d)x[g=b[d]]&V||(l=O[E[g]],l.value=I(l.value,f[g]));d=0;for(e=c.length;d<e;++d)(x[g=c[d]]&
V)===a&&(l=O[E[g]],l.value=M(l.value,f[g]))}}function l(a,b,c){if(a!==y&&!Z){var d,g,e,h=O[0];d=0;for(e=b.length;d<e;++d)x[g=b[d]]&V||(h.value=I(h.value,f[g]));d=0;for(e=c.length;d<e;++d)(x[g=c[d]]&V)===a&&(h.value=M(h.value,f[g]))}}function k(){var a,b;for(a=0;a<D;++a)O[a].value=L();for(a=0;a<w;++a)x[a]&V||(b=O[E[a]],b.value=I(b.value,f[a]))}function m(){var a,b=O[0];b.value=L();for(a=0;a<w;++a)x[a]&V||(b.value=I(b.value,f[a]))}function z(){Z&&(J(),Z=!1);return O}function v(a,b,d){I=a;M=b;L=d;Z=
!0;return u}function R(){return v(r,q,p)}function H(a){function b(d){return a(d.value)}aa=e(b);P=d(b);return u}function U(){var a=Q.indexOf(T);0<=a&&Q.splice(a,1);a=ca.indexOf(c);0<=a&&ca.splice(a,1);a=K.indexOf(g);0<=a&&K.splice(a,1);return u}var u={top:function(a){a=aa(z(),0,O.length,a);return P.sort(a,0,a.length)},all:z,reduce:v,reduceCount:R,reduceSum:function(a){return v(t(a),C(a),p)},order:H,orderNatural:function(){return H(b)},size:function(){return D},dispose:U,remove:U};ha.push(u);var O,
E,N=8,S=8===N?256:16===N?65536:4294967296,D=0,aa,P,I,M,L,T=n,J=n,Z=!0;1>arguments.length&&(a=b);Q.push(T);ca.push(c);K.push(g);c(G,B,0,w);return R().orderNatural()}function H(){ha.forEach(function(a){a.dispose()});var a=u.indexOf(g);0<=a&&u.splice(a,1);a=u.indexOf(R);0<=a&&u.splice(a,1);a=K.indexOf(U);0<=a&&K.splice(a,1);for(a=0;a<w;++a)x[a]&=V;z&=V;return v}var v={filter:function(a){return null==a?da():Array.isArray(a)?aa(a):"function"===typeof a?ea(a):J(a)},filterExact:J,filterRange:aa,filterFunction:ea,
filterAll:da,top:function(a){for(var b=[],d=M,c;--d>=I&&0<a;)x[c=B[d]]||(b.push(f[c]),--a);return b},bottom:function(a){for(var b=[],d=I,c;d<M&&0<a;)x[c=B[d]]||(b.push(f[c]),--a),d++;return b},group:ga,groupAll:function(){var a=ga(n),b=a.all;delete a.all;delete a.top;delete a.order;delete a.orderNatural;delete a.size;a.value=function(){return b()[0].value};return a},dispose:H,remove:H},y=~z&-~z,V=~y,G,B,L,P,ia=h(function(a){return L[a]}),Y=m,ba,ca=[],ha=[],I=0,M=0;u.unshift(g);u.push(R);K.push(U);
z|=y;if(32<=S?!y:z&(1<<S)-1)x=X(x,S<<=1);g(f,0,w);R(f,0,w);return v},groupAll:function(){function a(b,d){var c;if(!n)for(c=d;c<w;++c)x[c]||(h=l(h,f[c]))}function b(a,d,c){var g,e,m;if(!n){g=0;for(m=d.length;g<m;++g)x[e=d[g]]||(h=l(h,f[e]));g=0;for(m=c.length;g<m;++g)x[e=c[g]]===a&&(h=k(h,f[e]))}}function d(a,b,c){l=a;k=b;m=c;n=!0;return e}function c(){return d(r,q,p)}function g(){var d=Q.indexOf(b);0<=d&&Q.splice(d);d=u.indexOf(a);0<=d&&u.splice(d);return e}var e={reduce:d,reduceCount:c,reduceSum:function(a){return d(t(a),
C(a),p)},value:function(){if(n){var a;h=m();for(a=0;a<w;++a)x[a]||(h=l(h,f[a]));n=!1}return h},dispose:g,remove:g},h,l,k,m,n=!0;Q.push(b);u.push(a);a(f,0,w);return c()},size:function(){return w}},f=[],w=0,z=0,S=8,x=N(0),Q=[],u=[],K=[];return arguments.length?a(arguments[0]):g}function A(a,b){return(257>b?N:65537>b?K:J)(a)}z.version="1.3.5";z.permute=c;var E=z.bisect=a(b);E.by=a;(z.heap=d(b)).by=d;(z.heapselect=e(b)).by=e;(z.insertionsort=f(b)).by=f;(z.quicksort=h(b)).by=h;var S=32,N=g,K=g,J=g,W=b,
X=b;"undefined"!==typeof Uint8Array&&(N=function(a){return new Uint8Array(a)},K=function(a){return new Uint16Array(a)},J=function(a){return new Uint32Array(a)},W=function(a,b){if(a.length>=b)return a;var d=new a.constructor(b);d.set(a);return d},X=function(a,b){var d;switch(b){case 16:d=K(a.length);break;case 32:d=J(a.length);break;default:throw Error("invalid array width!");}d.set(a);return d});u.crossfilter=z})(this);topojson=function(){function u(b,a){function d(a){a=b.arcs[a];var d=a[0],g=[0,0];a.forEach(function(a){g[0]+=a[0];g[1]+=a[1]});return[d,g]}var e={},f={},h={};a.forEach(function(a){var b=d(a);(e[b[0]]||(e[b[0]]=[])).push(a);(e[b[1]]||(e[b[1]]=[])).push(~a)});a.forEach(function(a){var b=d(a),c=b[0],g=b[1];(b=h[c])?(delete h[b.end],b.push(a),b.end=g,(a=f[g])?(delete f[a.start],c=a===b?b:b.concat(a),f[c.start=b.start]=h[c.end=a.end]=c):(a=h[g])?(delete f[a.start],delete h[a.end],c=b.concat(a.map(function(a){return~a}).reverse()),
f[c.start=b.start]=h[c.end=a.start]=c):f[b.start]=h[b.end]=b):(b=f[g])?(delete f[b.start],b.unshift(a),b.start=c,(a=h[c])?(delete h[a.end],c=a===b?b:a.concat(b),f[c.start=a.start]=h[c.end=b.end]=c):(a=f[c])?(delete f[a.start],delete h[a.end],c=a.map(function(a){return~a}).reverse().concat(b),f[c.start=a.end]=h[c.end=b.end]=c):f[b.start]=h[b.end]=b):(b=f[c])?(delete f[b.start],b.unshift(~a),b.start=g,(a=h[g])?(delete h[a.end],c=a===b?b:a.concat(b),f[c.start=a.start]=h[c.end=b.end]=c):(a=f[g])?(delete f[a.start],
delete h[a.end],c=a.map(function(a){return~a}).reverse().concat(b),f[c.start=a.end]=h[c.end=b.end]=c):f[b.start]=h[b.end]=b):(b=h[g])?(delete h[b.end],b.push(~a),b.end=c,(a=h[c])?(delete f[a.start],c=a===b?b:b.concat(a),f[c.start=b.start]=h[c.end=a.end]=c):(a=f[c])?(delete f[a.start],delete h[a.end],c=b.concat(a.map(function(a){return~a}).reverse()),f[c.start=b.start]=h[c.end=a.start]=c):f[b.start]=h[b.end]=b):(b=[a],f[b.start=c]=h[b.end=g]=b)});var g=[],k;for(k in h)g.push(h[k]);return g}function b(b,
a){function d(a){for(var b=[],c=0,d=a.length;c<d;++c){var e=a[c],f=b;f.length&&f.pop();for(var h=n[0>e?~e:e],p=0,u=h.length,K=0,J=0,W=void 0;p<u;++p)f.push([(K+=(W=h[p])[0])*g+l,(J+=W[1])*k+m]);if(0>e)for(e=f,f=e.length,h=f-u;h<--f;)u=e[h],e[h++]=e[f],e[f]=u}return b}function e(a){return a.map(d)}function f(a){a=Object.create(a);a.coordinates=p[a.type](a.arcs);return a}var h=b.transform,g=h.scale[0],k=h.scale[1],l=h.translate[0],m=h.translate[1],n=b.arcs,p={LineString:d,MultiLineString:e,Polygon:e,
MultiPolygon:function(a){return a.map(e)}};return"GeometryCollection"===a.type?(a=Object.create(a),a.geometries=a.geometries.map(f),a):f(a)}return{version:"0.0.3",mesh:function(c,a,d){var e=[];if(1<arguments.length){var f=function(a){m=a;n[a.type](a.arcs)},h=function(a){a.forEach(g)},g=function(a){a.forEach(k)},k=function(a){0>a&&(a=~a);(l[a]||(l[a]=[])).push(m)},l=[],m,n={LineString:g,MultiLineString:h,Polygon:h,MultiPolygon:function(a){a.forEach(h)}};"GeometryCollection"===a.type?a.geometries.forEach(f):
f(a);if(3>arguments.length)for(var p in l)e.push([p]);else for(p in l)d((m=l[p])[0],m[m.length-1])&&e.push([p])}else for(p=0,f=c.arcs.length;p<f;++p)e.push([p]);return b(c,{type:"MultiLineString",arcs:u(c,e)})},object:b}}();(function(u){function b(a){for(var b=0,c=a.length-1;0<c--;)b+=a[c];return b}function c(a){return b(a)/a.length}function a(a){var b={Point:a,LineString:function(b){return b.map(a)},MultiLineString:function(a){return a.map(b.LineString)},Polygon:function(a){return a.map(b.LineString)},MultiPolygon:function(a){return a.map(b.Polygon)}};return function(a){return b[a.type](a.coordinates)}}function d(a){return a}function e(a){if(a instanceof Array)a=a.map(e);else if("string"!==typeof a&&"number"!==typeof a){var b=
{},c;for(c in a)b[c]=e(a[c]);a=b}return a}function f(a,b){function c(b){for(var d=[],e=0,f=b.length;e<f;++e){var h=b[e],k=d;k.length&&k.pop();for(var l=a[0>h?~h:h],m=0,p=l.length;m<p;++m)k.push(l[m]);if(0>h)for(h=k,k=h.length,l=k-p;l<--k;)p=h[l],h[l++]=h[k],h[k]=p}return d}function d(a){return a.map(c)}function e(a){a=Object.create(a);a.coordinates=f[a.type](a.arcs);return a}var f={LineString:c,MultiLineString:d,Polygon:d,MultiPolygon:function(a){return a.map(d)}};return"GeometryCollection"===b.type?
(b=Object.create(b),b.geometries=b.geometries.map(e),b):e(b)}d3.cartogram=function(){function g(g,r){g=e(g);a(l);var q=h(g.transform);projectedArcs=g.arcs.map(function(a){var b=0,c=0;return a.map(function(a){a[0]=b+=a[0];a[1]=c+=a[1];return l(q(a))})});var t=d3.geo.path().projection(d),u=f(projectedArcs,{type:"GeometryCollection",geometries:r}).geometries.map(function(a){return{type:"Feature",id:a.id,properties:m.call(null,a,g),geometry:a}}),z=u.map(n),A=b(z);if(0>=k)return u;for(var E=0;E++<k;){var S=
u.map(t.area),N=b(S),K=[],J=u.map(function(a,b){var c=Math.abs(S[b]),d=+z[b],e=N*d/A,g=Math.sqrt(c/Math.PI),f=Math.sqrt(e/Math.PI)-g,h=Math.max(c,e)/Math.min(c,e);K.push(h);return{id:a.id,area:c,centroid:t.centroid(a),value:d,desired:e,radius:g,mass:f,sizeError:h}}),W=c(K),X=1/(1+W);projectedArcs.forEach(function(a){a.forEach(function(a){var b=J.map(function(b){var c=b.centroid,d=b.mass,e=b.radius;b=Math.atan2(a[1]-c[1],a[0]-c[0]);var g=a[0]-c[0],c=a[1]-c[1],c=Math.sqrt(g*g+c*c),d=c>e?d*e/c:Math.pow(c,
2)/Math.pow(e,2)*d*(4-3*c/e);return[d*Math.cos(b),d*Math.sin(b)]}).reduce(function(a,b){return[a[0]+b[0],a[1]+b[1]]},[0,0]);b[0]*=X;b[1]*=X;a[0]+=b[0];a[1]+=b[1]})});if(1>=W)break}return{features:u,arcs:projectedArcs}}var k=8,l=d3.geo.albers(),m=function(a){return{}},n=function(a){return 1};g.path=d3.geo.path().projection(d);g.iterations=function(a){return arguments.length?(k=a,g):k};g.value=function(a){return arguments.length?(n=d3.functor(a),g):n};g.projection=function(a){return arguments.length?
(l=a,g):l};g.feature=function(a,b){return{type:"Feature",id:b.id,properties:m.call(null,b,a),geometry:{type:b.type,coordinates:topojson.object(a,b).coordinates}}};g.features=function(a,b){return b.map(function(b){return g.feature(a,b)})};g.properties=function(a){return arguments.length?(m=d3.functor(a),g):m};return g};var h=d3.cartogram.transformer=function(a){function b(a){return[a[0]*c+e,a[1]*d+f]}var c=a.scale[0],d=a.scale[1],e=a.translate[0],f=a.translate[1];b.invert=function(a){return[(a[0]-
e)/c,(a[1]-f)/d]};return b}})(this);var colorbrewer={YlGn:{3:["rgb(247,252,185)","rgb(173,221,142)","rgb(49,163,84)"],4:["rgb(255,255,204)","rgb(194,230,153)","rgb(120,198,121)","rgb(35,132,67)"],5:["rgb(255,255,204)","rgb(194,230,153)","rgb(120,198,121)","rgb(49,163,84)","rgb(0,104,55)"],6:"rgb(255,255,204) rgb(217,240,163) rgb(173,221,142) rgb(120,198,121) rgb(49,163,84) rgb(0,104,55)".split(" "),7:"rgb(255,255,204) rgb(217,240,163) rgb(173,221,142) rgb(120,198,121) rgb(65,171,93) rgb(35,132,67) rgb(0,90,50)".split(" "),8:"rgb(255,255,229) rgb(247,252,185) rgb(217,240,163) rgb(173,221,142) rgb(120,198,121) rgb(65,171,93) rgb(35,132,67) rgb(0,90,50)".split(" "),
9:"rgb(255,255,229) rgb(247,252,185) rgb(217,240,163) rgb(173,221,142) rgb(120,198,121) rgb(65,171,93) rgb(35,132,67) rgb(0,104,55) rgb(0,69,41)".split(" ")},YlGnBu:{3:["rgb(237,248,177)","rgb(127,205,187)","rgb(44,127,184)"],4:["rgb(255,255,204)","rgb(161,218,180)","rgb(65,182,196)","rgb(34,94,168)"],5:["rgb(255,255,204)","rgb(161,218,180)","rgb(65,182,196)","rgb(44,127,184)","rgb(37,52,148)"],6:"rgb(255,255,204) rgb(199,233,180) rgb(127,205,187) rgb(65,182,196) rgb(44,127,184) rgb(37,52,148)".split(" "),
7:"rgb(255,255,204) rgb(199,233,180) rgb(127,205,187) rgb(65,182,196) rgb(29,145,192) rgb(34,94,168) rgb(12,44,132)".split(" "),8:"rgb(255,255,217) rgb(237,248,177) rgb(199,233,180) rgb(127,205,187) rgb(65,182,196) rgb(29,145,192) rgb(34,94,168) rgb(12,44,132)".split(" "),9:"rgb(255,255,217) rgb(237,248,177) rgb(199,233,180) rgb(127,205,187) rgb(65,182,196) rgb(29,145,192) rgb(34,94,168) rgb(37,52,148) rgb(8,29,88)".split(" ")},GnBu:{3:["rgb(224,243,219)","rgb(168,221,181)","rgb(67,162,202)"],4:["rgb(240,249,232)",
"rgb(186,228,188)","rgb(123,204,196)","rgb(43,140,190)"],5:["rgb(240,249,232)","rgb(186,228,188)","rgb(123,204,196)","rgb(67,162,202)","rgb(8,104,172)"],6:"rgb(240,249,232) rgb(204,235,197) rgb(168,221,181) rgb(123,204,196) rgb(67,162,202) rgb(8,104,172)".split(" "),7:"rgb(240,249,232) rgb(204,235,197) rgb(168,221,181) rgb(123,204,196) rgb(78,179,211) rgb(43,140,190) rgb(8,88,158)".split(" "),8:"rgb(247,252,240) rgb(224,243,219) rgb(204,235,197) rgb(168,221,181) rgb(123,204,196) rgb(78,179,211) rgb(43,140,190) rgb(8,88,158)".split(" "),
9:"rgb(247,252,240) rgb(224,243,219) rgb(204,235,197) rgb(168,221,181) rgb(123,204,196) rgb(78,179,211) rgb(43,140,190) rgb(8,104,172) rgb(8,64,129)".split(" ")},BuGn:{3:["rgb(229,245,249)","rgb(153,216,201)","rgb(44,162,95)"],4:["rgb(237,248,251)","rgb(178,226,226)","rgb(102,194,164)","rgb(35,139,69)"],5:["rgb(237,248,251)","rgb(178,226,226)","rgb(102,194,164)","rgb(44,162,95)","rgb(0,109,44)"],6:"rgb(237,248,251) rgb(204,236,230) rgb(153,216,201) rgb(102,194,164) rgb(44,162,95) rgb(0,109,44)".split(" "),
7:"rgb(237,248,251) rgb(204,236,230) rgb(153,216,201) rgb(102,194,164) rgb(65,174,118) rgb(35,139,69) rgb(0,88,36)".split(" "),8:"rgb(247,252,253) rgb(229,245,249) rgb(204,236,230) rgb(153,216,201) rgb(102,194,164) rgb(65,174,118) rgb(35,139,69) rgb(0,88,36)".split(" "),9:"rgb(247,252,253) rgb(229,245,249) rgb(204,236,230) rgb(153,216,201) rgb(102,194,164) rgb(65,174,118) rgb(35,139,69) rgb(0,109,44) rgb(0,68,27)".split(" ")},PuBuGn:{3:["rgb(236,226,240)","rgb(166,189,219)","rgb(28,144,153)"],4:["rgb(246,239,247)",
"rgb(189,201,225)","rgb(103,169,207)","rgb(2,129,138)"],5:["rgb(246,239,247)","rgb(189,201,225)","rgb(103,169,207)","rgb(28,144,153)","rgb(1,108,89)"],6:"rgb(246,239,247) rgb(208,209,230) rgb(166,189,219) rgb(103,169,207) rgb(28,144,153) rgb(1,108,89)".split(" "),7:"rgb(246,239,247) rgb(208,209,230) rgb(166,189,219) rgb(103,169,207) rgb(54,144,192) rgb(2,129,138) rgb(1,100,80)".split(" "),8:"rgb(255,247,251) rgb(236,226,240) rgb(208,209,230) rgb(166,189,219) rgb(103,169,207) rgb(54,144,192) rgb(2,129,138) rgb(1,100,80)".split(" "),
9:"rgb(255,247,251) rgb(236,226,240) rgb(208,209,230) rgb(166,189,219) rgb(103,169,207) rgb(54,144,192) rgb(2,129,138) rgb(1,108,89) rgb(1,70,54)".split(" ")},PuBu:{3:["rgb(236,231,242)","rgb(166,189,219)","rgb(43,140,190)"],4:["rgb(241,238,246)","rgb(189,201,225)","rgb(116,169,207)","rgb(5,112,176)"],5:["rgb(241,238,246)","rgb(189,201,225)","rgb(116,169,207)","rgb(43,140,190)","rgb(4,90,141)"],6:"rgb(241,238,246) rgb(208,209,230) rgb(166,189,219) rgb(116,169,207) rgb(43,140,190) rgb(4,90,141)".split(" "),
7:"rgb(241,238,246) rgb(208,209,230) rgb(166,189,219) rgb(116,169,207) rgb(54,144,192) rgb(5,112,176) rgb(3,78,123)".split(" "),8:"rgb(255,247,251) rgb(236,231,242) rgb(208,209,230) rgb(166,189,219) rgb(116,169,207) rgb(54,144,192) rgb(5,112,176) rgb(3,78,123)".split(" "),9:"rgb(255,247,251) rgb(236,231,242) rgb(208,209,230) rgb(166,189,219) rgb(116,169,207) rgb(54,144,192) rgb(5,112,176) rgb(4,90,141) rgb(2,56,88)".split(" ")},BuPu:{3:["rgb(224,236,244)","rgb(158,188,218)","rgb(136,86,167)"],4:["rgb(237,248,251)",
"rgb(179,205,227)","rgb(140,150,198)","rgb(136,65,157)"],5:["rgb(237,248,251)","rgb(179,205,227)","rgb(140,150,198)","rgb(136,86,167)","rgb(129,15,124)"],6:"rgb(237,248,251) rgb(191,211,230) rgb(158,188,218) rgb(140,150,198) rgb(136,86,167) rgb(129,15,124)".split(" "),7:"rgb(237,248,251) rgb(191,211,230) rgb(158,188,218) rgb(140,150,198) rgb(140,107,177) rgb(136,65,157) rgb(110,1,107)".split(" "),8:"rgb(247,252,253) rgb(224,236,244) rgb(191,211,230) rgb(158,188,218) rgb(140,150,198) rgb(140,107,177) rgb(136,65,157) rgb(110,1,107)".split(" "),
9:"rgb(247,252,253) rgb(224,236,244) rgb(191,211,230) rgb(158,188,218) rgb(140,150,198) rgb(140,107,177) rgb(136,65,157) rgb(129,15,124) rgb(77,0,75)".split(" ")},RdPu:{3:["rgb(253,224,221)","rgb(250,159,181)","rgb(197,27,138)"],4:["rgb(254,235,226)","rgb(251,180,185)","rgb(247,104,161)","rgb(174,1,126)"],5:["rgb(254,235,226)","rgb(251,180,185)","rgb(247,104,161)","rgb(197,27,138)","rgb(122,1,119)"],6:"rgb(254,235,226) rgb(252,197,192) rgb(250,159,181) rgb(247,104,161) rgb(197,27,138) rgb(122,1,119)".split(" "),
7:"rgb(254,235,226) rgb(252,197,192) rgb(250,159,181) rgb(247,104,161) rgb(221,52,151) rgb(174,1,126) rgb(122,1,119)".split(" "),8:"rgb(255,247,243) rgb(253,224,221) rgb(252,197,192) rgb(250,159,181) rgb(247,104,161) rgb(221,52,151) rgb(174,1,126) rgb(122,1,119)".split(" "),9:"rgb(255,247,243) rgb(253,224,221) rgb(252,197,192) rgb(250,159,181) rgb(247,104,161) rgb(221,52,151) rgb(174,1,126) rgb(122,1,119) rgb(73,0,106)".split(" ")},PuRd:{3:["rgb(231,225,239)","rgb(201,148,199)","rgb(221,28,119)"],
4:["rgb(241,238,246)","rgb(215,181,216)","rgb(223,101,176)","rgb(206,18,86)"],5:["rgb(241,238,246)","rgb(215,181,216)","rgb(223,101,176)","rgb(221,28,119)","rgb(152,0,67)"],6:"rgb(241,238,246) rgb(212,185,218) rgb(201,148,199) rgb(223,101,176) rgb(221,28,119) rgb(152,0,67)".split(" "),7:"rgb(241,238,246) rgb(212,185,218) rgb(201,148,199) rgb(223,101,176) rgb(231,41,138) rgb(206,18,86) rgb(145,0,63)".split(" "),8:"rgb(247,244,249) rgb(231,225,239) rgb(212,185,218) rgb(201,148,199) rgb(223,101,176) rgb(231,41,138) rgb(206,18,86) rgb(145,0,63)".split(" "),
9:"rgb(247,244,249) rgb(231,225,239) rgb(212,185,218) rgb(201,148,199) rgb(223,101,176) rgb(231,41,138) rgb(206,18,86) rgb(152,0,67) rgb(103,0,31)".split(" ")},OrRd:{3:["rgb(254,232,200)","rgb(253,187,132)","rgb(227,74,51)"],4:["rgb(254,240,217)","rgb(253,204,138)","rgb(252,141,89)","rgb(215,48,31)"],5:["rgb(254,240,217)","rgb(253,204,138)","rgb(252,141,89)","rgb(227,74,51)","rgb(179,0,0)"],6:"rgb(254,240,217) rgb(253,212,158) rgb(253,187,132) rgb(252,141,89) rgb(227,74,51) rgb(179,0,0)".split(" "),
7:"rgb(254,240,217) rgb(253,212,158) rgb(253,187,132) rgb(252,141,89) rgb(239,101,72) rgb(215,48,31) rgb(153,0,0)".split(" "),8:"rgb(255,247,236) rgb(254,232,200) rgb(253,212,158) rgb(253,187,132) rgb(252,141,89) rgb(239,101,72) rgb(215,48,31) rgb(153,0,0)".split(" "),9:"rgb(255,247,236) rgb(254,232,200) rgb(253,212,158) rgb(253,187,132) rgb(252,141,89) rgb(239,101,72) rgb(215,48,31) rgb(179,0,0) rgb(127,0,0)".split(" ")},YlOrRd:{3:["rgb(255,237,160)","rgb(254,178,76)","rgb(240,59,32)"],4:["rgb(255,255,178)",
"rgb(254,204,92)","rgb(253,141,60)","rgb(227,26,28)"],5:["rgb(255,255,178)","rgb(254,204,92)","rgb(253,141,60)","rgb(240,59,32)","rgb(189,0,38)"],6:"rgb(255,255,178) rgb(254,217,118) rgb(254,178,76) rgb(253,141,60) rgb(240,59,32) rgb(189,0,38)".split(" "),7:"rgb(255,255,178) rgb(254,217,118) rgb(254,178,76) rgb(253,141,60) rgb(252,78,42) rgb(227,26,28) rgb(177,0,38)".split(" "),8:"rgb(255,255,204) rgb(255,237,160) rgb(254,217,118) rgb(254,178,76) rgb(253,141,60) rgb(252,78,42) rgb(227,26,28) rgb(177,0,38)".split(" "),
9:"rgb(255,255,204) rgb(255,237,160) rgb(254,217,118) rgb(254,178,76) rgb(253,141,60) rgb(252,78,42) rgb(227,26,28) rgb(189,0,38) rgb(128,0,38)".split(" ")},YlOrBr:{3:["rgb(255,247,188)","rgb(254,196,79)","rgb(217,95,14)"],4:["rgb(255,255,212)","rgb(254,217,142)","rgb(254,153,41)","rgb(204,76,2)"],5:["rgb(255,255,212)","rgb(254,217,142)","rgb(254,153,41)","rgb(217,95,14)","rgb(153,52,4)"],6:"rgb(255,255,212) rgb(254,227,145) rgb(254,196,79) rgb(254,153,41) rgb(217,95,14) rgb(153,52,4)".split(" "),
7:"rgb(255,255,212) rgb(254,227,145) rgb(254,196,79) rgb(254,153,41) rgb(236,112,20) rgb(204,76,2) rgb(140,45,4)".split(" "),8:"rgb(255,255,229) rgb(255,247,188) rgb(254,227,145) rgb(254,196,79) rgb(254,153,41) rgb(236,112,20) rgb(204,76,2) rgb(140,45,4)".split(" "),9:"rgb(255,255,229) rgb(255,247,188) rgb(254,227,145) rgb(254,196,79) rgb(254,153,41) rgb(236,112,20) rgb(204,76,2) rgb(153,52,4) rgb(102,37,6)".split(" ")},Purples:{3:["rgb(239,237,245)","rgb(188,189,220)","rgb(117,107,177)"],4:["rgb(242,240,247)",
"rgb(203,201,226)","rgb(158,154,200)","rgb(106,81,163)"],5:["rgb(242,240,247)","rgb(203,201,226)","rgb(158,154,200)","rgb(117,107,177)","rgb(84,39,143)"],6:"rgb(242,240,247) rgb(218,218,235) rgb(188,189,220) rgb(158,154,200) rgb(117,107,177) rgb(84,39,143)".split(" "),7:"rgb(242,240,247) rgb(218,218,235) rgb(188,189,220) rgb(158,154,200) rgb(128,125,186) rgb(106,81,163) rgb(74,20,134)".split(" "),8:"rgb(252,251,253) rgb(239,237,245) rgb(218,218,235) rgb(188,189,220) rgb(158,154,200) rgb(128,125,186) rgb(106,81,163) rgb(74,20,134)".split(" "),
9:"rgb(252,251,253) rgb(239,237,245) rgb(218,218,235) rgb(188,189,220) rgb(158,154,200) rgb(128,125,186) rgb(106,81,163) rgb(84,39,143) rgb(63,0,125)".split(" ")},Blues:{3:["rgb(222,235,247)","rgb(158,202,225)","rgb(49,130,189)"],4:["rgb(239,243,255)","rgb(189,215,231)","rgb(107,174,214)","rgb(33,113,181)"],5:["rgb(239,243,255)","rgb(189,215,231)","rgb(107,174,214)","rgb(49,130,189)","rgb(8,81,156)"],6:"rgb(239,243,255) rgb(198,219,239) rgb(158,202,225) rgb(107,174,214) rgb(49,130,189) rgb(8,81,156)".split(" "),
7:"rgb(239,243,255) rgb(198,219,239) rgb(158,202,225) rgb(107,174,214) rgb(66,146,198) rgb(33,113,181) rgb(8,69,148)".split(" "),8:"rgb(247,251,255) rgb(222,235,247) rgb(198,219,239) rgb(158,202,225) rgb(107,174,214) rgb(66,146,198) rgb(33,113,181) rgb(8,69,148)".split(" "),9:"rgb(247,251,255) rgb(222,235,247) rgb(198,219,239) rgb(158,202,225) rgb(107,174,214) rgb(66,146,198) rgb(33,113,181) rgb(8,81,156) rgb(8,48,107)".split(" ")},Greens:{3:["rgb(229,245,224)","rgb(161,217,155)","rgb(49,163,84)"],
4:["rgb(237,248,233)","rgb(186,228,179)","rgb(116,196,118)","rgb(35,139,69)"],5:["rgb(237,248,233)","rgb(186,228,179)","rgb(116,196,118)","rgb(49,163,84)","rgb(0,109,44)"],6:"rgb(237,248,233) rgb(199,233,192) rgb(161,217,155) rgb(116,196,118) rgb(49,163,84) rgb(0,109,44)".split(" "),7:"rgb(237,248,233) rgb(199,233,192) rgb(161,217,155) rgb(116,196,118) rgb(65,171,93) rgb(35,139,69) rgb(0,90,50)".split(" "),8:"rgb(247,252,245) rgb(229,245,224) rgb(199,233,192) rgb(161,217,155) rgb(116,196,118) rgb(65,171,93) rgb(35,139,69) rgb(0,90,50)".split(" "),
9:"rgb(247,252,245) rgb(229,245,224) rgb(199,233,192) rgb(161,217,155) rgb(116,196,118) rgb(65,171,93) rgb(35,139,69) rgb(0,109,44) rgb(0,68,27)".split(" ")},Oranges:{3:["rgb(254,230,206)","rgb(253,174,107)","rgb(230,85,13)"],4:["rgb(254,237,222)","rgb(253,190,133)","rgb(253,141,60)","rgb(217,71,1)"],5:["rgb(254,237,222)","rgb(253,190,133)","rgb(253,141,60)","rgb(230,85,13)","rgb(166,54,3)"],6:"rgb(254,237,222) rgb(253,208,162) rgb(253,174,107) rgb(253,141,60) rgb(230,85,13) rgb(166,54,3)".split(" "),
7:"rgb(254,237,222) rgb(253,208,162) rgb(253,174,107) rgb(253,141,60) rgb(241,105,19) rgb(217,72,1) rgb(140,45,4)".split(" "),8:"rgb(255,245,235) rgb(254,230,206) rgb(253,208,162) rgb(253,174,107) rgb(253,141,60) rgb(241,105,19) rgb(217,72,1) rgb(140,45,4)".split(" "),9:"rgb(255,245,235) rgb(254,230,206) rgb(253,208,162) rgb(253,174,107) rgb(253,141,60) rgb(241,105,19) rgb(217,72,1) rgb(166,54,3) rgb(127,39,4)".split(" ")},Reds:{3:["rgb(254,224,210)","rgb(252,146,114)","rgb(222,45,38)"],4:["rgb(254,229,217)",
"rgb(252,174,145)","rgb(251,106,74)","rgb(203,24,29)"],5:["rgb(254,229,217)","rgb(252,174,145)","rgb(251,106,74)","rgb(222,45,38)","rgb(165,15,21)"],6:"rgb(254,229,217) rgb(252,187,161) rgb(252,146,114) rgb(251,106,74) rgb(222,45,38) rgb(165,15,21)".split(" "),7:"rgb(254,229,217) rgb(252,187,161) rgb(252,146,114) rgb(251,106,74) rgb(239,59,44) rgb(203,24,29) rgb(153,0,13)".split(" "),8:"rgb(255,245,240) rgb(254,224,210) rgb(252,187,161) rgb(252,146,114) rgb(251,106,74) rgb(239,59,44) rgb(203,24,29) rgb(153,0,13)".split(" "),
9:"rgb(255,245,240) rgb(254,224,210) rgb(252,187,161) rgb(252,146,114) rgb(251,106,74) rgb(239,59,44) rgb(203,24,29) rgb(165,15,21) rgb(103,0,13)".split(" ")},Greys:{3:["rgb(240,240,240)","rgb(189,189,189)","rgb(99,99,99)"],4:["rgb(247,247,247)","rgb(204,204,204)","rgb(150,150,150)","rgb(82,82,82)"],5:["rgb(247,247,247)","rgb(204,204,204)","rgb(150,150,150)","rgb(99,99,99)","rgb(37,37,37)"],6:"rgb(247,247,247) rgb(217,217,217) rgb(189,189,189) rgb(150,150,150) rgb(99,99,99) rgb(37,37,37)".split(" "),
7:"rgb(247,247,247) rgb(217,217,217) rgb(189,189,189) rgb(150,150,150) rgb(115,115,115) rgb(82,82,82) rgb(37,37,37)".split(" "),8:"rgb(255,255,255) rgb(240,240,240) rgb(217,217,217) rgb(189,189,189) rgb(150,150,150) rgb(115,115,115) rgb(82,82,82) rgb(37,37,37)".split(" "),9:"rgb(255,255,255) rgb(240,240,240) rgb(217,217,217) rgb(189,189,189) rgb(150,150,150) rgb(115,115,115) rgb(82,82,82) rgb(37,37,37) rgb(0,0,0)".split(" ")},PuOr:{3:["rgb(241,163,64)","rgb(247,247,247)","rgb(153,142,195)"],4:["rgb(230,97,1)",
"rgb(253,184,99)","rgb(178,171,210)","rgb(94,60,153)"],5:["rgb(230,97,1)","rgb(253,184,99)","rgb(247,247,247)","rgb(178,171,210)","rgb(94,60,153)"],6:"rgb(179,88,6) rgb(241,163,64) rgb(254,224,182) rgb(216,218,235) rgb(153,142,195) rgb(84,39,136)".split(" "),7:"rgb(179,88,6) rgb(241,163,64) rgb(254,224,182) rgb(247,247,247) rgb(216,218,235) rgb(153,142,195) rgb(84,39,136)".split(" "),8:"rgb(179,88,6) rgb(224,130,20) rgb(253,184,99) rgb(254,224,182) rgb(216,218,235) rgb(178,171,210) rgb(128,115,172) rgb(84,39,136)".split(" "),
9:"rgb(179,88,6) rgb(224,130,20) rgb(253,184,99) rgb(254,224,182) rgb(247,247,247) rgb(216,218,235) rgb(178,171,210) rgb(128,115,172) rgb(84,39,136)".split(" "),10:"rgb(127,59,8) rgb(179,88,6) rgb(224,130,20) rgb(253,184,99) rgb(254,224,182) rgb(216,218,235) rgb(178,171,210) rgb(128,115,172) rgb(84,39,136) rgb(45,0,75)".split(" "),11:"rgb(127,59,8) rgb(179,88,6) rgb(224,130,20) rgb(253,184,99) rgb(254,224,182) rgb(247,247,247) rgb(216,218,235) rgb(178,171,210) rgb(128,115,172) rgb(84,39,136) rgb(45,0,75)".split(" ")},
BrBG:{3:["rgb(216,179,101)","rgb(245,245,245)","rgb(90,180,172)"],4:["rgb(166,97,26)","rgb(223,194,125)","rgb(128,205,193)","rgb(1,133,113)"],5:["rgb(166,97,26)","rgb(223,194,125)","rgb(245,245,245)","rgb(128,205,193)","rgb(1,133,113)"],6:"rgb(140,81,10) rgb(216,179,101) rgb(246,232,195) rgb(199,234,229) rgb(90,180,172) rgb(1,102,94)".split(" "),7:"rgb(140,81,10) rgb(216,179,101) rgb(246,232,195) rgb(245,245,245) rgb(199,234,229) rgb(90,180,172) rgb(1,102,94)".split(" "),8:"rgb(140,81,10) rgb(191,129,45) rgb(223,194,125) rgb(246,232,195) rgb(199,234,229) rgb(128,205,193) rgb(53,151,143) rgb(1,102,94)".split(" "),
9:"rgb(140,81,10) rgb(191,129,45) rgb(223,194,125) rgb(246,232,195) rgb(245,245,245) rgb(199,234,229) rgb(128,205,193) rgb(53,151,143) rgb(1,102,94)".split(" "),10:"rgb(84,48,5) rgb(140,81,10) rgb(191,129,45) rgb(223,194,125) rgb(246,232,195) rgb(199,234,229) rgb(128,205,193) rgb(53,151,143) rgb(1,102,94) rgb(0,60,48)".split(" "),11:"rgb(84,48,5) rgb(140,81,10) rgb(191,129,45) rgb(223,194,125) rgb(246,232,195) rgb(245,245,245) rgb(199,234,229) rgb(128,205,193) rgb(53,151,143) rgb(1,102,94) rgb(0,60,48)".split(" ")},
PRGn:{3:["rgb(175,141,195)","rgb(247,247,247)","rgb(127,191,123)"],4:["rgb(123,50,148)","rgb(194,165,207)","rgb(166,219,160)","rgb(0,136,55)"],5:["rgb(123,50,148)","rgb(194,165,207)","rgb(247,247,247)","rgb(166,219,160)","rgb(0,136,55)"],6:"rgb(118,42,131) rgb(175,141,195) rgb(231,212,232) rgb(217,240,211) rgb(127,191,123) rgb(27,120,55)".split(" "),7:"rgb(118,42,131) rgb(175,141,195) rgb(231,212,232) rgb(247,247,247) rgb(217,240,211) rgb(127,191,123) rgb(27,120,55)".split(" "),8:"rgb(118,42,131) rgb(153,112,171) rgb(194,165,207) rgb(231,212,232) rgb(217,240,211) rgb(166,219,160) rgb(90,174,97) rgb(27,120,55)".split(" "),
9:"rgb(118,42,131) rgb(153,112,171) rgb(194,165,207) rgb(231,212,232) rgb(247,247,247) rgb(217,240,211) rgb(166,219,160) rgb(90,174,97) rgb(27,120,55)".split(" "),10:"rgb(64,0,75) rgb(118,42,131) rgb(153,112,171) rgb(194,165,207) rgb(231,212,232) rgb(217,240,211) rgb(166,219,160) rgb(90,174,97) rgb(27,120,55) rgb(0,68,27)".split(" "),11:"rgb(64,0,75) rgb(118,42,131) rgb(153,112,171) rgb(194,165,207) rgb(231,212,232) rgb(247,247,247) rgb(217,240,211) rgb(166,219,160) rgb(90,174,97) rgb(27,120,55) rgb(0,68,27)".split(" ")},
PiYG:{3:["rgb(233,163,201)","rgb(247,247,247)","rgb(161,215,106)"],4:["rgb(208,28,139)","rgb(241,182,218)","rgb(184,225,134)","rgb(77,172,38)"],5:["rgb(208,28,139)","rgb(241,182,218)","rgb(247,247,247)","rgb(184,225,134)","rgb(77,172,38)"],6:"rgb(197,27,125) rgb(233,163,201) rgb(253,224,239) rgb(230,245,208) rgb(161,215,106) rgb(77,146,33)".split(" "),7:"rgb(197,27,125) rgb(233,163,201) rgb(253,224,239) rgb(247,247,247) rgb(230,245,208) rgb(161,215,106) rgb(77,146,33)".split(" "),8:"rgb(197,27,125) rgb(222,119,174) rgb(241,182,218) rgb(253,224,239) rgb(230,245,208) rgb(184,225,134) rgb(127,188,65) rgb(77,146,33)".split(" "),
9:"rgb(197,27,125) rgb(222,119,174) rgb(241,182,218) rgb(253,224,239) rgb(247,247,247) rgb(230,245,208) rgb(184,225,134) rgb(127,188,65) rgb(77,146,33)".split(" "),10:"rgb(142,1,82) rgb(197,27,125) rgb(222,119,174) rgb(241,182,218) rgb(253,224,239) rgb(230,245,208) rgb(184,225,134) rgb(127,188,65) rgb(77,146,33) rgb(39,100,25)".split(" "),11:"rgb(142,1,82) rgb(197,27,125) rgb(222,119,174) rgb(241,182,218) rgb(253,224,239) rgb(247,247,247) rgb(230,245,208) rgb(184,225,134) rgb(127,188,65) rgb(77,146,33) rgb(39,100,25)".split(" ")},
RdBu:{3:["rgb(239,138,98)","rgb(247,247,247)","rgb(103,169,207)"],4:["rgb(202,0,32)","rgb(244,165,130)","rgb(146,197,222)","rgb(5,113,176)"],5:["rgb(202,0,32)","rgb(244,165,130)","rgb(247,247,247)","rgb(146,197,222)","rgb(5,113,176)"],6:"rgb(178,24,43) rgb(239,138,98) rgb(253,219,199) rgb(209,229,240) rgb(103,169,207) rgb(33,102,172)".split(" "),7:"rgb(178,24,43) rgb(239,138,98) rgb(253,219,199) rgb(247,247,247) rgb(209,229,240) rgb(103,169,207) rgb(33,102,172)".split(" "),8:"rgb(178,24,43) rgb(214,96,77) rgb(244,165,130) rgb(253,219,199) rgb(209,229,240) rgb(146,197,222) rgb(67,147,195) rgb(33,102,172)".split(" "),
9:"rgb(178,24,43) rgb(214,96,77) rgb(244,165,130) rgb(253,219,199) rgb(247,247,247) rgb(209,229,240) rgb(146,197,222) rgb(67,147,195) rgb(33,102,172)".split(" "),10:"rgb(103,0,31) rgb(178,24,43) rgb(214,96,77) rgb(244,165,130) rgb(253,219,199) rgb(209,229,240) rgb(146,197,222) rgb(67,147,195) rgb(33,102,172) rgb(5,48,97)".split(" "),11:"rgb(103,0,31) rgb(178,24,43) rgb(214,96,77) rgb(244,165,130) rgb(253,219,199) rgb(247,247,247) rgb(209,229,240) rgb(146,197,222) rgb(67,147,195) rgb(33,102,172) rgb(5,48,97)".split(" ")},
RdGy:{3:["rgb(239,138,98)","rgb(255,255,255)","rgb(153,153,153)"],4:["rgb(202,0,32)","rgb(244,165,130)","rgb(186,186,186)","rgb(64,64,64)"],5:["rgb(202,0,32)","rgb(244,165,130)","rgb(255,255,255)","rgb(186,186,186)","rgb(64,64,64)"],6:"rgb(178,24,43) rgb(239,138,98) rgb(253,219,199) rgb(224,224,224) rgb(153,153,153) rgb(77,77,77)".split(" "),7:"rgb(178,24,43) rgb(239,138,98) rgb(253,219,199) rgb(255,255,255) rgb(224,224,224) rgb(153,153,153) rgb(77,77,77)".split(" "),8:"rgb(178,24,43) rgb(214,96,77) rgb(244,165,130) rgb(253,219,199) rgb(224,224,224) rgb(186,186,186) rgb(135,135,135) rgb(77,77,77)".split(" "),
9:"rgb(178,24,43) rgb(214,96,77) rgb(244,165,130) rgb(253,219,199) rgb(255,255,255) rgb(224,224,224) rgb(186,186,186) rgb(135,135,135) rgb(77,77,77)".split(" "),10:"rgb(103,0,31) rgb(178,24,43) rgb(214,96,77) rgb(244,165,130) rgb(253,219,199) rgb(224,224,224) rgb(186,186,186) rgb(135,135,135) rgb(77,77,77) rgb(26,26,26)".split(" "),11:"rgb(103,0,31) rgb(178,24,43) rgb(214,96,77) rgb(244,165,130) rgb(253,219,199) rgb(255,255,255) rgb(224,224,224) rgb(186,186,186) rgb(135,135,135) rgb(77,77,77) rgb(26,26,26)".split(" ")},
RdYlBu:{3:["rgb(252,141,89)","rgb(255,255,191)","rgb(145,191,219)"],4:["rgb(215,25,28)","rgb(253,174,97)","rgb(171,217,233)","rgb(44,123,182)"],5:["rgb(215,25,28)","rgb(253,174,97)","rgb(255,255,191)","rgb(171,217,233)","rgb(44,123,182)"],6:"rgb(215,48,39) rgb(252,141,89) rgb(254,224,144) rgb(224,243,248) rgb(145,191,219) rgb(69,117,180)".split(" "),7:"rgb(215,48,39) rgb(252,141,89) rgb(254,224,144) rgb(255,255,191) rgb(224,243,248) rgb(145,191,219) rgb(69,117,180)".split(" "),8:"rgb(215,48,39) rgb(244,109,67) rgb(253,174,97) rgb(254,224,144) rgb(224,243,248) rgb(171,217,233) rgb(116,173,209) rgb(69,117,180)".split(" "),
9:"rgb(215,48,39) rgb(244,109,67) rgb(253,174,97) rgb(254,224,144) rgb(255,255,191) rgb(224,243,248) rgb(171,217,233) rgb(116,173,209) rgb(69,117,180)".split(" "),10:"rgb(165,0,38) rgb(215,48,39) rgb(244,109,67) rgb(253,174,97) rgb(254,224,144) rgb(224,243,248) rgb(171,217,233) rgb(116,173,209) rgb(69,117,180) rgb(49,54,149)".split(" "),11:"rgb(165,0,38) rgb(215,48,39) rgb(244,109,67) rgb(253,174,97) rgb(254,224,144) rgb(255,255,191) rgb(224,243,248) rgb(171,217,233) rgb(116,173,209) rgb(69,117,180) rgb(49,54,149)".split(" ")},
Spectral:{3:["rgb(252,141,89)","rgb(255,255,191)","rgb(153,213,148)"],4:["rgb(215,25,28)","rgb(253,174,97)","rgb(171,221,164)","rgb(43,131,186)"],5:["rgb(215,25,28)","rgb(253,174,97)","rgb(255,255,191)","rgb(171,221,164)","rgb(43,131,186)"],6:"rgb(213,62,79) rgb(252,141,89) rgb(254,224,139) rgb(230,245,152) rgb(153,213,148) rgb(50,136,189)".split(" "),7:"rgb(213,62,79) rgb(252,141,89) rgb(254,224,139) rgb(255,255,191) rgb(230,245,152) rgb(153,213,148) rgb(50,136,189)".split(" "),8:"rgb(213,62,79) rgb(244,109,67) rgb(253,174,97) rgb(254,224,139) rgb(230,245,152) rgb(171,221,164) rgb(102,194,165) rgb(50,136,189)".split(" "),
9:"rgb(213,62,79) rgb(244,109,67) rgb(253,174,97) rgb(254,224,139) rgb(255,255,191) rgb(230,245,152) rgb(171,221,164) rgb(102,194,165) rgb(50,136,189)".split(" "),10:"rgb(158,1,66) rgb(213,62,79) rgb(244,109,67) rgb(253,174,97) rgb(254,224,139) rgb(230,245,152) rgb(171,221,164) rgb(102,194,165) rgb(50,136,189) rgb(94,79,162)".split(" "),11:"rgb(158,1,66) rgb(213,62,79) rgb(244,109,67) rgb(253,174,97) rgb(254,224,139) rgb(255,255,191) rgb(230,245,152) rgb(171,221,164) rgb(102,194,165) rgb(50,136,189) rgb(94,79,162)".split(" ")},
RdYlGn:{3:["rgb(252,141,89)","rgb(255,255,191)","rgb(145,207,96)"],4:["rgb(215,25,28)","rgb(253,174,97)","rgb(166,217,106)","rgb(26,150,65)"],5:["rgb(215,25,28)","rgb(253,174,97)","rgb(255,255,191)","rgb(166,217,106)","rgb(26,150,65)"],6:"rgb(215,48,39) rgb(252,141,89) rgb(254,224,139) rgb(217,239,139) rgb(145,207,96) rgb(26,152,80)".split(" "),7:"rgb(215,48,39) rgb(252,141,89) rgb(254,224,139) rgb(255,255,191) rgb(217,239,139) rgb(145,207,96) rgb(26,152,80)".split(" "),8:"rgb(215,48,39) rgb(244,109,67) rgb(253,174,97) rgb(254,224,139) rgb(217,239,139) rgb(166,217,106) rgb(102,189,99) rgb(26,152,80)".split(" "),
9:"rgb(215,48,39) rgb(244,109,67) rgb(253,174,97) rgb(254,224,139) rgb(255,255,191) rgb(217,239,139) rgb(166,217,106) rgb(102,189,99) rgb(26,152,80)".split(" "),10:"rgb(165,0,38) rgb(215,48,39) rgb(244,109,67) rgb(253,174,97) rgb(254,224,139) rgb(217,239,139) rgb(166,217,106) rgb(102,189,99) rgb(26,152,80) rgb(0,104,55)".split(" "),11:"rgb(165,0,38) rgb(215,48,39) rgb(244,109,67) rgb(253,174,97) rgb(254,224,139) rgb(255,255,191) rgb(217,239,139) rgb(166,217,106) rgb(102,189,99) rgb(26,152,80) rgb(0,104,55)".split(" ")}};
